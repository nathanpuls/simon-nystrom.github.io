{"pageProps":{"post":{"html":"<p>Although this post is part of a series, the aim is for the post to be able to stand on its own, you should be able to take away some knowledge even if you&#39;re not following the tutorial series. If you&#39;re interested, the tutorial series starts here: <a href=\"https://newcurrent.se/blog/initialize-nextjs-project\">Part 1</a>.</p>\n<hr>\n<h1 id=\"prerequisites\">Prerequisites</h1>\n<p>The prerequisites for this tutorial are stated in <a href=\"https://newcurrent.se/blog/initialize-nextjs-project\">Part 1</a> and the components we will be using in this tutorial are from <a href=\"https://newcurrent.se/blog/initialize-nextjs-project\">Part 1</a> and <a href=\"https://newcurrent.se/blog/nextjs-routing\">Part 2</a></p>\n<hr>\n<h1 id=\"styling-in-nextjs\">Styling in Next.js</h1>\n<p>There are multiple ways of styling your components in a Next.js project, just like in any other React project. I prefer using <a href=\"https://styled-components.com/\"><code>styled-components</code></a> though as they make it easy to modify the CSS and to have everything properly scoped out of the box, no worrying about clashing CSS classes and what not. This post will walk you through how to set up <code>styled-components</code> for your statically generated Next.js project.</p>\n<p>Some other approaches to styling include:</p>\n<ul>\n<li><a href=\"https://nextjs.org/learn/basics/assets-metadata-css/global-styles\">Global styles</a> (we will actually utilize this as well in a later tutorial in this series).</li>\n<li><a href=\"https://nextjs.org/docs/basic-features/built-in-css-support#adding-component-level-css\">CSS Modules</a></li>\n<li><a href=\"https://reactjs.org/docs/dom-elements.html#style\">Inline styling</a></li>\n</ul>\n<hr>\n<h1 id=\"enabling-styled-components-in-nextjs\">Enabling <code>styled-components</code> in Next.js</h1>\n<p>To enable <code>styled-components</code> in Next.js, we need to install some dependencies namely:</p>\n<pre><div class=\"copy-me\" onclick=\"copyCode(this)\">Copy</div><code>yarn add -D styled-components babel-plugin-styled-components</code></pre><p><code>styled-components</code> is the library itself and <code>babel-plugin-styled-components</code> is needed to consistently hash <code>classNames</code> between environments (<code>styled-components</code> won&#39;t behave well with SSR/SSG otherwise).</p>\n<p>We also need to create our own <code>.babelrc</code> in the root of the project to be able to override the default babel behaviour used by Next.js:</p>\n<pre><div class=\"copy-me\" onclick=\"copyCode(this)\">Copy</div><code>{\n    <span class=\"hljs-attr\">&quot;presets&quot;</span>: [\n        <span class=\"hljs-string\">&quot;next/babel&quot;</span>\n    ],\n    <span class=\"hljs-attr\">&quot;plugins&quot;</span>: [\n        <span class=\"hljs-string\">&quot;babel-plugin-styled-components&quot;</span>\n    ]\n}</code></pre><hr>\n<h1 id=\"extracting-and-styling-our-nav-bar\">Extracting and styling our nav bar</h1>\n<p>Our blog as we left it in <a href=\"https://newcurrent.se/blog/nextjs-routing\">part 2</a> isn&#39;t pretty. Let&#39;s change that and make it look more like an actual layout.</p>\n<p>Let&#39;s begin by extracting our inline <code>nav</code> from <code>_app.js</code> and make it its own component.</p>\n<p>Start by creating a folder called <code>components</code> at the root level and create a file called <code>NavBar.js</code> inside:</p>\n<p><code>components/NavBar.js</code></p>\n<pre><div class=\"copy-me\" onclick=\"copyCode(this)\">Copy</div><code><span class=\"hljs-keyword\">import</span> styled <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;styled-components&quot;</span>\n<span class=\"hljs-keyword\">import</span> Link <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;next/link&quot;</span>\n\n<span class=\"hljs-keyword\">const</span> Nav = styled.nav<span class=\"hljs-string\">`\n  max-width: 56em;\n  margin: 0 auto;\n  padding: 0.4em;\n`</span>\n\n<span class=\"hljs-keyword\">const</span> Ul = styled.ul<span class=\"hljs-string\">`\n  display: flex;\n  padding: 0;\n`</span>\n\n<span class=\"hljs-keyword\">const</span> Li = styled.li<span class=\"hljs-string\">`\n  display: block;\n  padding: 0.4em;\n`</span>\n\n<span class=\"hljs-comment\">// Note that styled-components lets you use SCSS syntax</span>\n<span class=\"hljs-keyword\">const</span> A = styled.a<span class=\"hljs-string\">`\n  &amp;:hover {\n    color: blue;\n  }\n`</span>\n\n<span class=\"hljs-keyword\">const</span> NavBar = <span class=\"hljs-function\">() =&gt;</span> (\n  <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Nav</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Ul</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Li</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Link</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;/&quot;</span> <span class=\"hljs-attr\">passHref</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">A</span>&gt;</span>Home<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">A</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Link</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Li</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Li</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Link</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;/blog&quot;</span> <span class=\"hljs-attr\">passHref</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">A</span>&gt;</span>Blog<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">A</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Link</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Li</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Ul</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Nav</span>&gt;</span></span>\n)\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> NavBar</code></pre><p><code>_app.js</code> can now be simplified to look like this instead:</p>\n<pre><div class=\"copy-me\" onclick=\"copyCode(this)\">Copy</div><code><span class=\"hljs-keyword\">import</span> NavBar <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;../components/NavBar&quot;</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&quot;../styles/globals.css&quot;</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">MyApp</span>(<span class=\"hljs-params\">{ Component, pageProps }</span>) </span>{\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"xml\"><span class=\"hljs-tag\">&lt;&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">NavBar</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Component</span> {<span class=\"hljs-attr\">...pageProps</span>} /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/&gt;</span></span>\n  )\n}\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> MyApp</code></pre><hr>\n<h1 id=\"styling-our-other-components\">Styling our other components</h1>\n<p>Let&#39;s also add some basic styling to our other components so they look a little bit more pleasing. Feel free to experiment here with <code>styled-components</code> if you want to do something more advanced.</p>\n<p><code>pages/index.js</code></p>\n<pre><div class=\"copy-me\" onclick=\"copyCode(this)\">Copy</div><code><span class=\"hljs-keyword\">import</span> styled <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;styled-components&quot;</span>\n\n<span class=\"hljs-keyword\">const</span> Main = styled.main<span class=\"hljs-string\">`\n  max-width: 56em;\n  padding: 0.8em;\n  margin: 0 auto;\n`</span>\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">Home</span>(<span class=\"hljs-params\"></span>) </span>{\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Main</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>Welcome!<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span>This is the main page<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Main</span>&gt;</span></span>\n  )\n}</code></pre><p><code>pages/blog/index.js</code></p>\n<pre><div class=\"copy-me\" onclick=\"copyCode(this)\">Copy</div><code><span class=\"hljs-keyword\">import</span> Link <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;next/link&quot;</span>\n<span class=\"hljs-keyword\">import</span> styled <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;styled-components&quot;</span>\n<span class=\"hljs-keyword\">import</span> posts <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;../_posts&quot;</span>\n\n<span class=\"hljs-keyword\">const</span> Main = styled.main<span class=\"hljs-string\">`\n  max-width: 56em;\n  padding: 0.8em;\n  margin: 0 auto;\n`</span>\n\n<span class=\"hljs-keyword\">const</span> Ul = styled.ul<span class=\"hljs-string\">`\n  padding: 0;\n`</span>\n\n<span class=\"hljs-keyword\">const</span> Li = styled.li<span class=\"hljs-string\">`\n  display: block;\n`</span>\n\n<span class=\"hljs-comment\">// Create a flex box wrapper that can group our blog post attributes</span>\n<span class=\"hljs-keyword\">const</span> BlogLink = styled.div<span class=\"hljs-string\">`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid gray;\n  transition: margin-left 0.2s ease;\n\n  &amp;:hover {\n    margin-left: 20px;\n  }\n`</span>\n\n<span class=\"hljs-comment\">// Notice here on the Link element that we do not need passHref,</span>\n<span class=\"hljs-comment\">// that&#x27;s possible because the anchor tag is the direct child</span>\n<span class=\"hljs-comment\">// of the Link element</span>\n<span class=\"hljs-keyword\">const</span> BlogPage = <span class=\"hljs-function\">(<span class=\"hljs-params\">{ posts }</span>) =&gt;</span> (\n  <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Main</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Ul</span>&gt;</span>\n      {posts.map((post) =&gt; (\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Li</span> <span class=\"hljs-attr\">key</span>=<span class=\"hljs-string\">{post.slug}</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Link</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">{</span>`<span class=\"hljs-attr\">blog</span>/${<span class=\"hljs-attr\">post.slug</span>}`}&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">BlogLink</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h3</span>&gt;</span>{post.title}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h3</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h5</span>&gt;</span>{post.date}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h5</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">BlogLink</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Link</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Li</span>&gt;</span>\n      ))}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Ul</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Main</span>&gt;</span></span>\n)\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> BlogPage\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">async</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getStaticProps</span>(<span class=\"hljs-params\"></span>) </span>{\n  <span class=\"hljs-keyword\">return</span> {\n    <span class=\"hljs-attr\">props</span>: {\n      posts,\n    },\n  }\n}</code></pre><p>This only really leaves us with one component left to style (<code>pages/blog/[slug].js</code>), I&#39;ll leave that as an exercise for the reader. If you want to see how I did it you can visit the repository <a href=\"https://github.com/simon-nystrom/nextjs-blog-example/tree/p3\">here</a>. </p>\n<hr>\n<p>Now we have a styled <code>Next.js</code> app that supports dynamic routing based on a data set ready to go for the next part of this tutorial series.</p>\n<p>Here&#39;s what my project looks like at this stage: <a href=\"https://github.com/simon-nystrom/nextjs-blog-example/tree/p3\">https://github.com/simon-nystrom/nextjs-blog-example/tree/p3</a></p>\n<p>I hope you&#39;ll keep following along with the tutorial, please don&#39;t hesitate to ask if you have any questions or tell me if I missed something!</p>\n","date":"2020-11-07 22:51","series_title":"Creating a blog with React and Next.js","title":"Styled Components in Next.js","slug":"nextjs-styled-components","part":3,"last_part":"?","summary":"Learn about using styled components in Next.js.","categories":[],"published":true,"tags":["react","javascript","nextjs","tutorial"]}},"__N_SSG":true}