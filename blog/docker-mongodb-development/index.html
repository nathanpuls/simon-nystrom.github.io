<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css rel=stylesheet> <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{html:"\u003Cp\u003EThis post will go through the steps needed to setup a working MongoDB environment inside a Docker container on your local machine. The benefits of having MongoDB inside a container on your local machine is that you can easily change versions and use different MongoDB instances without having to have multiple different versions installed. It also allows you to share your MongoDB setup with your team so that everyone can connect to a similar local database that can be used for testing and development.\u003C\u002Fp\u003E\n\u003Cp\u003EYou need to have Docker installed to be able to follow this guide, instructions for this can be found \u003Ca href=\"https:\u002F\u002Fdocs.docker.com\u002Fget-docker\u002F\"\u003Ehere\u003C\u002Fa\u003E. I am using version \u003Ccode\u003E2.4.0.0 (48506)\u003C\u002Fcode\u003E at the time of writing.\u003C\u002Fp\u003E\n\u003Cp\u003EDisclaimer: The following approach stores data inside the container itself, meaning that \u003Cstrong\u003Eyou will lose all your data if you remove the container!\u003C\u002Fstrong\u003E This is intended to be used for development and testing purposes.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch1 id=\"running-the-mongodb-instance\"\u003ERunning the MongoDB instance\u003C\u002Fh1\u003E\n\u003Cp\u003EIt&#39;s surprisingly easy to get this up and running.\u003C\u002Fp\u003E\n\u003Cp\u003ERun the following command from a terminal window:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Edocker run -p27017:27017 --name my-mongodb-container -d mongo:latest\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis will:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EStart the \u003Ccode\u003Emongo:latest\u003C\u002Fcode\u003E image in a container\u003C\u002Fli\u003E\n\u003Cli\u003EDetach the container \u003Ccode\u003E-d\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EName it \u003Ccode\u003Emy-mongodb-container\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EMap the container port \u003Ccode\u003E27017\u003C\u002Fcode\u003E to our own machine&#39;s \u003Ccode\u003E27017\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EYou can find more tags \u003Ca href=\"https:\u002F\u002Fhub.docker.com\u002F_\u002Fmongo\"\u003Ehere\u003C\u002Fa\u003E if you don&#39;t want to use the \u003Ccode\u003Elatest\u003C\u002Fcode\u003E version.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch1 id=\"connecting-to-the-mongodb-instance\"\u003EConnecting to the MongoDB instance\u003C\u002Fh1\u003E\n\u003Cp\u003ENow that we have a MongoDB container up and running, we can try to connect to it using the following command:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Edocker run -it --rm mongo mongo --host host.docker.internal\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis will:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EStart the \u003Ccode\u003Emongo\u003C\u002Fcode\u003E image in a container\u003C\u002Fli\u003E\n\u003Cli\u003EUsing interactive mode \u003Ccode\u003E-it\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003ERemoving the container once we exit \u003Ccode\u003E--rm\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003ERun the \u003Ccode\u003Emongo\u003C\u002Fcode\u003E command inside the container, with the argument \u003Ccode\u003E--host host.docker.internal\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe \u003Ccode\u003Ehost.docker.internal\u003C\u002Fcode\u003E address is special and can be used as a workaround to \u003Ca href=\"https:\u002F\u002Fdocs.docker.com\u002Fdocker-for-mac\u002Fnetworking\u002F#use-cases-and-workarounds\"\u003Econnect to the host machine from a container\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Cp\u003EThat&#39;s all there is to it. You should be able to go ahead and use this container instance of MongoDB now for local development and testing purposes.\u003C\u002Fp\u003E\n",date:"2020-10-04",slug:"docker-mongodb-development",title:"Setting up MongoDB in Docker for development",categories:[],tags:["docker","mongodb"],summary:"Learn how to setup MongoDB using Docker on your local machine."}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.e3b236f0.js"}catch(e){main="/client/legacy/client.e8d82e7b.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <link href=client/client-3fc05b02.css rel=stylesheet><link href=client/Tag-401bb1aa.css rel=stylesheet><link href=client/[slug]-5b72df9b.css rel=stylesheet> <title>Setting up MongoDB in Docker for development</title><meta content="Learn how to setup MongoDB using Docker on your local machine." name=description data-svelte=svelte-165u46n> <link href=/client/client.e3b236f0.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-3fc05b02.css rel=preload as=style><link href=/client/[slug].1cf6fc52.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/Tag.679114ec.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/Tag-401bb1aa.css rel=preload as=style><link href=/client/[slug]-5b72df9b.css rel=preload as=style></head> <body> <div id=sapper> <nav class=svelte-tlf8d1><ul class=svelte-tlf8d1><li class=svelte-tlf8d1><a href=. class=svelte-tlf8d1>home</a></li> <li class=svelte-tlf8d1><a href=blog class=svelte-tlf8d1 rel=prefetch aria-current=page>blog</a></li> </ul></nav> <main class=svelte-1jrhn38> <h1 class=svelte-p38eej>Setting up MongoDB in Docker for development</h1> <div class="svelte-p38eej meta"><h5 class="svelte-p38eej gray">2020-10-04</h5> <div class="svelte-p38eej gray">・</div> <div class="svelte-p38eej tags"><div class=svelte-17mm4dg>docker</div><div class=svelte-17mm4dg>mongodb</div></div></div> <div class="svelte-p38eej content"><p>This post will go through the steps needed to setup a working MongoDB environment inside a Docker container on your local machine. The benefits of having MongoDB inside a container on your local machine is that you can easily change versions and use different MongoDB instances without having to have multiple different versions installed. It also allows you to share your MongoDB setup with your team so that everyone can connect to a similar local database that can be used for testing and development.</p> <p>You need to have Docker installed to be able to follow this guide, instructions for this can be found <a href=https://docs.docker.com/get-docker/ >here</a>. I am using version <code>2.4.0.0 (48506)</code> at the time of writing.</p> <p>Disclaimer: The following approach stores data inside the container itself, meaning that <strong>you will lose all your data if you remove the container!</strong> This is intended to be used for development and testing purposes.</p> <hr> <h1 id=running-the-mongodb-instance>Running the MongoDB instance</h1> <p>It's surprisingly easy to get this up and running.</p> <p>Run the following command from a terminal window:</p> <pre><code class=language-bash>docker run -p27017:27017 --name my-mongodb-container -d mongo:latest</code></pre> <p>This will:</p> <ul> <li>Start the <code>mongo:latest</code> image in a container</li> <li>Detach the container <code>-d</code></li> <li>Name it <code>my-mongodb-container</code></li> <li>Map the container port <code>27017</code> to our own machine's <code>27017</code></li> </ul> <p>You can find more tags <a href=https://hub.docker.com/_/mongo>here</a> if you don't want to use the <code>latest</code> version.</p> <hr> <h1 id=connecting-to-the-mongodb-instance>Connecting to the MongoDB instance</h1> <p>Now that we have a MongoDB container up and running, we can try to connect to it using the following command:</p> <pre><code class=language-bash>docker run -it --rm mongo mongo --host host.docker.internal</code></pre> <p>This will:</p> <ul> <li>Start the <code>mongo</code> image in a container</li> <li>Using interactive mode <code>-it</code></li> <li>Removing the container once we exit <code>--rm</code></li> <li>Run the <code>mongo</code> command inside the container, with the argument <code>--host host.docker.internal</code></li> </ul> <p>The <code>host.docker.internal</code> address is special and can be used as a workaround to <a href=https://docs.docker.com/docker-for-mac/networking/#use-cases-and-workarounds>connect to the host machine from a container</a>.</p> <hr> <p>That's all there is to it. You should be able to go ahead and use this container instance of MongoDB now for local development and testing purposes.</p> </div></main> <footer class=svelte-bn61n3><div class="svelte-bn61n3 copyright">Simon Nyström © 2020</div> <div class="svelte-bn61n3 social"><a href=https://www.linkedin.com/in/simon-nystr%C3%B6m-192b12a5/ class=icon-wrapper rel=noopener target=_blank><svg aria-hidden=true class="fa-svelte icon svelte-1d15yci" role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M100.3 480H7.4V180.9h92.9V480zM53.8 140.1C24.1 140.1 0 115.5 0 85.8 0 56.1 24.1 32 53.8 32c29.7 0 53.8 24.1 53.8 53.8 0 29.7-24.1 54.3-53.8 54.3zM448 480h-92.7V334.4c0-34.7-.7-79.2-48.3-79.2-48.3 0-55.7 37.7-55.7 76.7V480h-92.8V180.9h89.1v40.8h1.3c12.4-23.5 42.7-48.3 87.9-48.3 94 0 111.3 61.9 111.3 142.3V480z" fill=currentColor></path></svg></a> <a href=https://github.com/simon-nystrom/ class=icon-wrapper rel=noopener target=_blank><svg aria-hidden=true class="fa-svelte icon svelte-1d15yci" role=img viewBox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" fill=currentColor></path></svg></a> <a href=mailto:simon.nystrom90@gmail.com class=icon-wrapper rel=noopener target=_blank><svg aria-hidden=true class="fa-svelte icon svelte-1d15yci" role=img viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z" fill=currentColor></path></svg></a> <a href=https://dev.to/simonnystrom class="svelte-bn61n3 icon-wrapper"><img alt="Simon Nyström's DEV Profile" class=svelte-bn61n3 src=https://d2fltix0v2e0sb.cloudfront.net/dev-badge.svg></a></div></footer></div> 