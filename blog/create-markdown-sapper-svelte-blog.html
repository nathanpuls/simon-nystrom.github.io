<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link href="https://fonts.googleapis.com/css2?family=Roboto&amp;display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&amp;display=swap" rel="stylesheet"/><link href="https://use.fontawesome.com/releases/v5.15.1/css/svg-with-js.css" rel="stylesheet"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css"/><link rel="icon" type="image/png" href="/favicon.png"/><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><title>Creating a blog with Svelte, Sapper and GitHub Pages</title><meta name="description" content="Learn how to create your own blog using Svelte, Sapper, Markdown and how to host it for free on GitHub Pages."/><link rel="preload" href="/_next/static/css/d4bfb926b2ab4f081b6c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d4bfb926b2ab4f081b6c.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-652e3d69fea5bda26a4d.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.93a4db703368d9b8f53e.js" as="script"/><link rel="preload" href="/_next/static/chunks/a9a7754c.c97121148934262ae49b.js" as="script"/><link rel="preload" href="/_next/static/chunks/99f422a92ff7083adb8a7d840734144fa7589f68.f6d970403bd2fa4c2639.js" as="script"/><link rel="preload" href="/_next/static/chunks/99ce5ded03d7686e4bf70ff5f951df53c1ed333a.b57b3b603baeb24450d4.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-fe9879d6772941cc7edc.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bslug%5D-a9359318c29489431ba1.js" as="script"/><style data-styled="" data-styled-version="5.2.1">.gCPmgg{max-width:48em;padding-left:2em;padding-right:2em;padding-bottom:10px;box-sizing:border-box;position:absolute;left:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
data-styled.g1[id="Footer__FooterWrapper-sc-1r5v4in-0"]{content:"gCPmgg,"}/*!sc*/
.ffSMEu{font-size:0.7em;}/*!sc*/
data-styled.g2[id="Footer__Copyright-sc-1r5v4in-1"]{content:"ffSMEu,"}/*!sc*/
.dlVATn{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;max-height:50px;}/*!sc*/
data-styled.g3[id="Footer__Social-sc-1r5v4in-2"]{content:"dlVATn,"}/*!sc*/
.iZJeFu svg{-webkit-transition:color 0.2s ease;transition:color 0.2s ease;color:white;}/*!sc*/
.iZJeFu:hover svg{cursor:pointer;color:#83a0e1;}/*!sc*/
data-styled.g4[id="Footer__Icon-sc-1r5v4in-3"]{content:"iZJeFu,"}/*!sc*/
.btlfRb{font-size:1.4em;margin-right:14px;}/*!sc*/
.btlfRb:last-child{margin-right:0;}/*!sc*/
data-styled.g5[id="Footer__A-sc-1r5v4in-4"]{content:"btlfRb,"}/*!sc*/
.DhNpn{border-bottom:2px solid #262e40;margin-top:-2px;}/*!sc*/
data-styled.g6[id="NavBar__NavWrapper-sc-3ha8w-0"]{content:"DhNpn,"}/*!sc*/
.dWsLiR{max-width:48em;margin:0 auto;font-weight:300;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:2em;padding-right:2em;}/*!sc*/
data-styled.g7[id="NavBar__Nav-sc-3ha8w-1"]{content:"dWsLiR,"}/*!sc*/
.jLOfbH{color:inherit;-webkit-text-decoration:none;text-decoration:none;display:block;padding:1em 0.8em;position:relative;border-bottom:2px solid #262e40;top:2px;-webkit-transition:border-bottom 0.2s ease;transition:border-bottom 0.2s ease;border-bottom:2px solid #262e40;}/*!sc*/
.jLOfbH:first-child{padding:1em 0em;}/*!sc*/
.jLOfbH:hover{cursor:pointer;border-bottom:2px solid #83a0e1;}/*!sc*/
.cYWqKS{color:inherit;-webkit-text-decoration:none;text-decoration:none;display:block;padding:1em 0.8em;position:relative;border-bottom:2px solid #262e40;top:2px;-webkit-transition:border-bottom 0.2s ease;transition:border-bottom 0.2s ease;border-bottom:2px solid #83a0e1;}/*!sc*/
.cYWqKS:first-child{padding:1em 0em;}/*!sc*/
.cYWqKS:hover{cursor:pointer;border-bottom:2px solid #83a0e1;}/*!sc*/
data-styled.g8[id="NavBar__A-sc-3ha8w-2"]{content:"jLOfbH,cYWqKS,"}/*!sc*/
.dGychE{position:relative;max-width:48em;padding:2em;padding-bottom:4.5em;margin:0 auto;box-sizing:border-box;min-height:100%;}/*!sc*/
data-styled.g9[id="_app__Content-sc-1bgbx94-0"]{content:"dGychE,"}/*!sc*/
.dGuGHk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:0.73em;padding:2px 6px;background-color:#262e40;margin:2px;border-radius:4px;}/*!sc*/
data-styled.g10[id="Tag__TagWrapper-yn0xte-0"]{content:"dGuGHk,"}/*!sc*/
.gKGqWB{padding:0.8em;padding-left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
data-styled.g11[id="slug__Meta-sc-1tgsv9k-0"]{content:"gKGqWB,"}/*!sc*/
.kJfTuM{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}/*!sc*/
data-styled.g12[id="slug__Tags-sc-1tgsv9k-1"]{content:"kJfTuM,"}/*!sc*/
</style></head><body><div id="__next"><div><div class="NavBar__NavWrapper-sc-3ha8w-0 DhNpn"><nav class="NavBar__Nav-sc-3ha8w-1 dWsLiR"><a href="/" class="NavBar__A-sc-3ha8w-2 jLOfbH">home</a><a href="/blog" class="NavBar__A-sc-3ha8w-2 cYWqKS">blog</a></nav></div><main class="_app__Content-sc-1bgbx94-0 dGychE"><h1 style="font-size:2.2em">Creating a blog with Svelte, Sapper and GitHub Pages</h1><div class="slug__Meta-sc-1tgsv9k-0 gKGqWB"><h5 class="gray">2020-09-27</h5><div class="gray">ãƒ»</div><div class="slug__Tags-sc-1tgsv9k-1 kJfTuM"><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">svelte</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">sapper</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">markdown</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">javascript</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">blog</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">github</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">rollup</div></div></div><article class="blog-post-content"><p>The blog where you&#39;re reading this is built using the tools mentioned in this post. It&#39;s not a replica but it has a similar setup, just more focused on the blog setup. This post will guide you through the process of creating your own blog by combining <a href="https://svelte.dev/">Svelte</a>, <a href="https://sapper.svelte.dev/">Sapper</a> and <a href="https://www.github.com">GitHub</a> Pages (free). The focus will be on creating a blog with these tools and not so much the details of Svelte and Sapper.</p>
<p>Note that even though this project will use GitHub pages as its deployment method, it is in no way required to be deployed to GitHub pages. There is a clear decoupling of the blog itself and its method of deployment.</p>
<hr>
<h1 id="project-setup">Project setup</h1>
<p>To follow along with the blog you will need to have the following:</p>
<ul>
<li><code>node</code> 8.2.0 or later (for <code>npx</code> support)</li>
<li>A GitHub account</li>
<li>An empty (uninitialized) GitHub public repository named <em>username</em>.github.io where <em>username</em> is your username at GitHub</li>
<li>Access to your GitHub account through the terminal</li>
</ul>
<p>When you&#39;re all set up and ready to go, let&#39;s begin. Begin by running the following commands in a terminal window (replace <code>&lt;username&gt;</code> by your GitHub username):</p>
<pre><div class="copy-me" onclick="copyCode(this)">Copy</div><code>npx degit <span class="hljs-string">&quot;sveltejs/sapper-template#rollup&quot;</span> &lt;username&gt;.github.io
<span class="hljs-built_in">cd</span> &lt;username&gt;.github.io
npm install</code></pre><p>This will execute <a href="https://github.com/Rich-Harris/degit"><code>degit</code></a> with <code>npx</code> to scaffold a Sapper template project in a folder called <code>&lt;username&gt;.github.io</code> and change your working directory into said folder and install the required <code>npm</code> dependencies.</p>
<p>If you want to see what your site looks like at this point, you can go ahead and run:</p>
<pre><div class="copy-me" onclick="copyCode(this)">Copy</div><code>npm run dev</code></pre><p>This will start the local development server at <a href="http://localhost:3000">http://localhost:3000</a>.</p>
<p>Now it&#39;s time to open the project in your favorite code editor. You should have a folder structure similar to the image below at this point:</p>
<p><img src="/images/sapper/sapper_folder_structure.png" alt="Folder structure"></p>
<p>The files/folders that we will be interacting with are listed below:</p>
<ul>
<li><code>__sapper__</code>, Sapper files such as the dev, build and export bundles.</li>
<li><code>src</code> the source code for the site</li>
<li><code>static</code> resources needed for the page to run, these are included in the built version</li>
</ul>
<p>You can run the following command if you&#39;d like to clean up the project a bit (removing files we won&#39;t be using) so that it contains fewer files as we start to modify the template to suit our needs. Make sure your working directory is still set to <code>&lt;username&gt;.github.io</code>.</p>
<pre><div class="copy-me" onclick="copyCode(this)">Copy</div><code>rm -r scripts static/*.png static/*.jpg</code></pre><p>Since this blog post is focused on enabling blogging functionality, let&#39;s simplify our site a some more. Remove the list item containing the link to <strong>about</strong> in the <code>src/components/Nav.svelte</code> file and delete the file <code>src/routes/about.svelte</code>. Your site should now only have two items in the nav bar, like the image below:</p>
<p><img src="/images/sapper/sapper_nav_bar.png" alt="Nav bar"></p>
<p>Now would also be a great time to personalize the <code>src/routes/index.svelte</code> file. I will leave it as it is and move on to the blog portion of the site.</p>
<hr>
<h1 id="enabling-markdown-support">Enabling Markdown support</h1>
<p>As it stands, the blog posts and their content is hard coded and static, located inside the <code>src/routes/blog/_posts.js</code> file and aren&#39;t able to be written in <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> just yet. To change that, we&#39;ll need to install some extra libraries that can help us convert Markdown files into a format suitable to us:</p>
<pre><div class="copy-me" onclick="copyCode(this)">Copy</div><code>npm install -D marked highlight.js front-matter</code></pre><p>We also need to add a CSS theme to make <code>highlight.js</code> do something, go to <a href="https://highlightjs.org/static/demo/">https://highlightjs.org/static/demo/</a> and pick a theme and then include it in the <code>src/template.html</code> like so:</p>
<pre><div class="copy-me" onclick="copyCode(this)">Copy</div><code><span class="hljs-tag">&lt;<span class="hljs-name">link</span>
  <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span>
  <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css&quot;</span>
/&gt;</span></code></pre><p>I like keeping my blog posts separate from the code itself since they should be independent of where they are rendered vice versa. Let&#39;s create a <code>posts</code> directory alongside our <code>src</code> and <code>static</code> folders.</p>
<p>Now we can start rewriting <code>src/routes/blog/_posts.js</code> to suit our needs. We&#39;ll write some code that can take a Markdown file, including YAML front matter and parse it into something that can be used programmatically. You can replace the contents in <code>src/routes/blog/_posts.js</code> with the following code:</p>
<pre><div class="copy-me" onclick="copyCode(this)">Copy</div><code><span class="hljs-comment">// src/routes/blog/_posts.js</span>

<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>);
<span class="hljs-keyword">const</span> fm = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;front-matter&quot;</span>);
<span class="hljs-keyword">const</span> marked = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;marked&quot;</span>);
<span class="hljs-keyword">const</span> hljs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;highlight.js&quot;</span>);

<span class="hljs-keyword">const</span> files = fs.readdirSync(<span class="hljs-string">&quot;posts&quot;</span>);

<span class="hljs-comment">// Use highlight.js as the highlighter for the marked library</span>
marked.setOptions({
  <span class="hljs-attr">highlight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">code, lang</span>) </span>{
    <span class="hljs-keyword">return</span> hljs.highlight(lang, code).value;
  },
});

<span class="hljs-keyword">const</span> posts = [];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; files.length; i++) {
  <span class="hljs-keyword">const</span> content = fs.readFileSync(<span class="hljs-string">`posts/<span class="hljs-subst">${files[i]}</span>`</span>, { <span class="hljs-attr">encoding</span>: <span class="hljs-string">&quot;utf-8&quot;</span> });
  <span class="hljs-comment">// Use the front-matter library to separate the body from the front matter</span>
  <span class="hljs-keyword">const</span> { body, ...frontMatter } = fm(content);
  <span class="hljs-comment">// Use the marked library to turn markdown into html</span>
  <span class="hljs-keyword">const</span> html = marked(body);
  posts.push({ html, ...frontMatter.attributes });
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> posts;</code></pre><p>The code above will read the contents of the posts located in the <code>posts</code> folder and create an array of the posts and their contents so that we can access these posts programmatically.</p>
<hr>
<h1 id="creating-your-first-post">Creating your first post</h1>
<p>Now that we&#39;ve prepared the code to parse our Markdown files, we can create our first post. Create a file in the <code>posts</code> folder we created earlier called <code>my-first-blog.md</code> with the following content:</p>
<pre><div class="copy-me" onclick="copyCode(this)">Copy</div><code>---
title: "My first blog post"
slug: "my-first-blog"
---

## Look at the `title` above, it's straight out of the front matter! â†–

The slug is what's used to navigate/link to this specific post, visible right now in the URL.
</code></pre><p>Now you should be able to restart the local development server by re-running <code>npm run dev</code>. Now visit <a href="http://localhost:3000/blog">http://localhost:3000/blog</a> and see your newly created post in the list of recent posts, click the link and it should navigate you to the post.</p>
<hr>
<h1 id="deploying-to-github-pages">Deploying to GitHub Pages</h1>
<p>First, we need to make our project into a Git repository and push it to GitHub. To do this, we&#39;ll initialize our current directory (should still be <code>&lt;username&gt;.github.io</code>) as a Git repository, stage all the files and create our first commit. Finally we also need to push it to GitHub:</p>
<pre><div class="copy-me" onclick="copyCode(this)">Copy</div><code>git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/temporary-duck/<username>.io.git
git push -u origin master</code></pre><p>Once that&#39;s done, we&#39;ll install one final dependency to make it easy for us to deploy the site:</p>
<pre><div class="copy-me" onclick="copyCode(this)">Copy</div><code>npm install -D gh-pages</code></pre><p>We&#39;ll also add this as a new script called <code>deploy</code> to our <code>package.json</code>&#39;s <code>scripts</code> section:</p>
<pre><div class="copy-me" onclick="copyCode(this)">Copy</div><code>&quot;scripts&quot;: {
    &quot;dev&quot;: &quot;sapper dev&quot;,
    &quot;build&quot;: &quot;sapper build --legacy&quot;,
    &quot;export&quot;: &quot;sapper export --legacy&quot;,
    &quot;start&quot;: &quot;node __sapper__/build&quot;,
    &quot;deploy&quot;: &quot;sapper export --legacy &amp;&amp;  gh-pages -d __sapper__/export&quot;
},</code></pre><p>The new script will make sure that we <code>sapper export</code> our latest changes before deploying the <code>__sapper__/export</code> folder to GitHub Pages. <code>gh-pages</code> will create a branch in our repository called <code>gh-pages</code> and this branch is what will be deployed to your site at <code>&lt;username&gt;.github.io</code>, where username is your username at GitHub.</p>
<p>Now you&#39;re all set to simply deploy the site by running:</p>
<pre><div class="copy-me" onclick="copyCode(this)">Copy</div><code>npm run deploy</code></pre><p>We&#39;re close to being done now, only one step left. We have to set the <code>gh-pages</code> branch that was just deployed as the main branch for GitHub Pages to read from. To do this, visit the GitHub repository you created for your blog, go to settings and scroll down until you see the <strong>GitHub Pages</strong> section. Under <strong>Source</strong> you have to change the branch to the <code>gh-pages</code> branch. It might take a few minutes until your page is correctly deployed to <code>&lt;username&gt;.github.io</code>.</p>
<p>That&#39;s it. All done. Enjoy your newly created and freely hosted blog! ðŸ¥³</p>
<hr>
</article></main><footer class="Footer__FooterWrapper-sc-1r5v4in-0 gCPmgg"><div class="Footer__Copyright-sc-1r5v4in-1 ffSMEu copyright">Simon NystrÃ¶m Â© <!-- -->2020</div><div class="Footer__Social-sc-1r5v4in-2 dlVATn"><a target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/simon-nystr%C3%B6m-192b12a5/" class="Footer__A-sc-1r5v4in-4 btlfRb"><div class="Footer__Icon-sc-1r5v4in-3 iZJeFu"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></div></a><a target="_blank" rel="noopener noreferrer" href="https://github.com/simon-nystrom/" class="Footer__A-sc-1r5v4in-4 btlfRb"><div class="Footer__Icon-sc-1r5v4in-3 iZJeFu"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></div></a><a target="_blank" rel="noopener noreferrer" href="mailto:simon.nystrom90@gmail.com" class="Footer__A-sc-1r5v4in-4 btlfRb"><div class="Footer__Icon-sc-1r5v4in-3 iZJeFu"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="envelope" class="svg-inline--fa fa-envelope fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"></path></svg></div></a><a target="_blank" rel="noopener noreferrer" href="https://dev.to/simonnystrom" class="Footer__A-sc-1r5v4in-4 btlfRb"><div class="Footer__Icon-sc-1r5v4in-3 iZJeFu"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="dev" class="svg-inline--fa fa-dev fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35H91.03v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35 3.88-2.9 5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06zM404.1 32H43.9C19.7 32 .06 51.59 0 75.8v360.4C.06 460.41 19.7 480 43.9 480h360.2c24.21 0 43.84-19.59 43.9-43.8V75.8c-.06-24.21-19.7-43.8-43.9-43.8zM154.2 291.19c0 18.81-11.61 47.31-48.36 47.25h-46.4V172.98h47.38c35.44 0 47.36 28.46 47.37 47.28l.01 70.93zm100.68-88.66H201.6v38.42h32.57v29.57H201.6v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69V193.7c-.27-11.15 8.56-20.41 19.71-20.69h63.19l-.01 29.52zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58l-38.46 144.8z"></path></svg></div></a></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"html":"\u003cp\u003eThe blog where you\u0026#39;re reading this is built using the tools mentioned in this post. It\u0026#39;s not a replica but it has a similar setup, just more focused on the blog setup. This post will guide you through the process of creating your own blog by combining \u003ca href=\"https://svelte.dev/\"\u003eSvelte\u003c/a\u003e, \u003ca href=\"https://sapper.svelte.dev/\"\u003eSapper\u003c/a\u003e and \u003ca href=\"https://www.github.com\"\u003eGitHub\u003c/a\u003e Pages (free). The focus will be on creating a blog with these tools and not so much the details of Svelte and Sapper.\u003c/p\u003e\n\u003cp\u003eNote that even though this project will use GitHub pages as its deployment method, it is in no way required to be deployed to GitHub pages. There is a clear decoupling of the blog itself and its method of deployment.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"project-setup\"\u003eProject setup\u003c/h1\u003e\n\u003cp\u003eTo follow along with the blog you will need to have the following:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003enode\u003c/code\u003e 8.2.0 or later (for \u003ccode\u003enpx\u003c/code\u003e support)\u003c/li\u003e\n\u003cli\u003eA GitHub account\u003c/li\u003e\n\u003cli\u003eAn empty (uninitialized) GitHub public repository named \u003cem\u003eusername\u003c/em\u003e.github.io where \u003cem\u003eusername\u003c/em\u003e is your username at GitHub\u003c/li\u003e\n\u003cli\u003eAccess to your GitHub account through the terminal\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWhen you\u0026#39;re all set up and ready to go, let\u0026#39;s begin. Begin by running the following commands in a terminal window (replace \u003ccode\u003e\u0026lt;username\u0026gt;\u003c/code\u003e by your GitHub username):\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpx degit \u003cspan class=\"hljs-string\"\u003e\u0026quot;sveltejs/sapper-template#rollup\u0026quot;\u003c/span\u003e \u0026lt;username\u0026gt;.github.io\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e \u0026lt;username\u0026gt;.github.io\nnpm install\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis will execute \u003ca href=\"https://github.com/Rich-Harris/degit\"\u003e\u003ccode\u003edegit\u003c/code\u003e\u003c/a\u003e with \u003ccode\u003enpx\u003c/code\u003e to scaffold a Sapper template project in a folder called \u003ccode\u003e\u0026lt;username\u0026gt;.github.io\u003c/code\u003e and change your working directory into said folder and install the required \u003ccode\u003enpm\u003c/code\u003e dependencies.\u003c/p\u003e\n\u003cp\u003eIf you want to see what your site looks like at this point, you can go ahead and run:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpm run dev\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis will start the local development server at \u003ca href=\"http://localhost:3000\"\u003ehttp://localhost:3000\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eNow it\u0026#39;s time to open the project in your favorite code editor. You should have a folder structure similar to the image below at this point:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/sapper/sapper_folder_structure.png\" alt=\"Folder structure\"\u003e\u003c/p\u003e\n\u003cp\u003eThe files/folders that we will be interacting with are listed below:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e__sapper__\u003c/code\u003e, Sapper files such as the dev, build and export bundles.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003esrc\u003c/code\u003e the source code for the site\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003estatic\u003c/code\u003e resources needed for the page to run, these are included in the built version\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eYou can run the following command if you\u0026#39;d like to clean up the project a bit (removing files we won\u0026#39;t be using) so that it contains fewer files as we start to modify the template to suit our needs. Make sure your working directory is still set to \u003ccode\u003e\u0026lt;username\u0026gt;.github.io\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003erm -r scripts static/*.png static/*.jpg\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSince this blog post is focused on enabling blogging functionality, let\u0026#39;s simplify our site a some more. Remove the list item containing the link to \u003cstrong\u003eabout\u003c/strong\u003e in the \u003ccode\u003esrc/components/Nav.svelte\u003c/code\u003e file and delete the file \u003ccode\u003esrc/routes/about.svelte\u003c/code\u003e. Your site should now only have two items in the nav bar, like the image below:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/sapper/sapper_nav_bar.png\" alt=\"Nav bar\"\u003e\u003c/p\u003e\n\u003cp\u003eNow would also be a great time to personalize the \u003ccode\u003esrc/routes/index.svelte\u003c/code\u003e file. I will leave it as it is and move on to the blog portion of the site.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"enabling-markdown-support\"\u003eEnabling Markdown support\u003c/h1\u003e\n\u003cp\u003eAs it stands, the blog posts and their content is hard coded and static, located inside the \u003ccode\u003esrc/routes/blog/_posts.js\u003c/code\u003e file and aren\u0026#39;t able to be written in \u003ca href=\"https://en.wikipedia.org/wiki/Markdown\"\u003eMarkdown\u003c/a\u003e just yet. To change that, we\u0026#39;ll need to install some extra libraries that can help us convert Markdown files into a format suitable to us:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpm install -D marked highlight.js front-matter\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWe also need to add a CSS theme to make \u003ccode\u003ehighlight.js\u003c/code\u003e do something, go to \u003ca href=\"https://highlightjs.org/static/demo/\"\u003ehttps://highlightjs.org/static/demo/\u003c/a\u003e and pick a theme and then include it in the \u003ccode\u003esrc/template.html\u003c/code\u003e like so:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003elink\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003erel\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;stylesheet\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css\u0026quot;\u003c/span\u003e\n/\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eI like keeping my blog posts separate from the code itself since they should be independent of where they are rendered vice versa. Let\u0026#39;s create a \u003ccode\u003eposts\u003c/code\u003e directory alongside our \u003ccode\u003esrc\u003c/code\u003e and \u003ccode\u003estatic\u003c/code\u003e folders.\u003c/p\u003e\n\u003cp\u003eNow we can start rewriting \u003ccode\u003esrc/routes/blog/_posts.js\u003c/code\u003e to suit our needs. We\u0026#39;ll write some code that can take a Markdown file, including YAML front matter and parse it into something that can be used programmatically. You can replace the contents in \u003ccode\u003esrc/routes/blog/_posts.js\u003c/code\u003e with the following code:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e// src/routes/blog/_posts.js\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e fs = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;fs\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e fm = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;front-matter\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e marked = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;marked\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e hljs = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;highlight.js\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e files = fs.readdirSync(\u003cspan class=\"hljs-string\"\u003e\u0026quot;posts\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Use highlight.js as the highlighter for the marked library\u003c/span\u003e\nmarked.setOptions({\n  \u003cspan class=\"hljs-attr\"\u003ehighlight\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ecode, lang\u003c/span\u003e) \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e hljs.highlight(lang, code).value;\n  },\n});\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e posts = [];\n\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e; i \u0026lt; files.length; i++) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e content = fs.readFileSync(\u003cspan class=\"hljs-string\"\u003e`posts/\u003cspan class=\"hljs-subst\"\u003e${files[i]}\u003c/span\u003e`\u003c/span\u003e, { \u003cspan class=\"hljs-attr\"\u003eencoding\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;utf-8\u0026quot;\u003c/span\u003e });\n  \u003cspan class=\"hljs-comment\"\u003e// Use the front-matter library to separate the body from the front matter\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { body, ...frontMatter } = fm(content);\n  \u003cspan class=\"hljs-comment\"\u003e// Use the marked library to turn markdown into html\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e html = marked(body);\n  posts.push({ html, ...frontMatter.attributes });\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e posts;\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe code above will read the contents of the posts located in the \u003ccode\u003eposts\u003c/code\u003e folder and create an array of the posts and their contents so that we can access these posts programmatically.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"creating-your-first-post\"\u003eCreating your first post\u003c/h1\u003e\n\u003cp\u003eNow that we\u0026#39;ve prepared the code to parse our Markdown files, we can create our first post. Create a file in the \u003ccode\u003eposts\u003c/code\u003e folder we created earlier called \u003ccode\u003emy-first-blog.md\u003c/code\u003e with the following content:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e---\ntitle: \"My first blog post\"\nslug: \"my-first-blog\"\n---\n\n## Look at the `title` above, it's straight out of the front matter! â†–\n\nThe slug is what's used to navigate/link to this specific post, visible right now in the URL.\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow you should be able to restart the local development server by re-running \u003ccode\u003enpm run dev\u003c/code\u003e. Now visit \u003ca href=\"http://localhost:3000/blog\"\u003ehttp://localhost:3000/blog\u003c/a\u003e and see your newly created post in the list of recent posts, click the link and it should navigate you to the post.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"deploying-to-github-pages\"\u003eDeploying to GitHub Pages\u003c/h1\u003e\n\u003cp\u003eFirst, we need to make our project into a Git repository and push it to GitHub. To do this, we\u0026#39;ll initialize our current directory (should still be \u003ccode\u003e\u0026lt;username\u0026gt;.github.io\u003c/code\u003e) as a Git repository, stage all the files and create our first commit. Finally we also need to push it to GitHub:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003egit init\ngit add .\ngit commit -m \"Initial commit\"\ngit remote add origin https://github.com/temporary-duck/\u003cusername\u003e.io.git\ngit push -u origin master\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOnce that\u0026#39;s done, we\u0026#39;ll install one final dependency to make it easy for us to deploy the site:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpm install -D gh-pages\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWe\u0026#39;ll also add this as a new script called \u003ccode\u003edeploy\u003c/code\u003e to our \u003ccode\u003epackage.json\u003c/code\u003e\u0026#39;s \u003ccode\u003escripts\u003c/code\u003e section:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u0026quot;scripts\u0026quot;: {\n    \u0026quot;dev\u0026quot;: \u0026quot;sapper dev\u0026quot;,\n    \u0026quot;build\u0026quot;: \u0026quot;sapper build --legacy\u0026quot;,\n    \u0026quot;export\u0026quot;: \u0026quot;sapper export --legacy\u0026quot;,\n    \u0026quot;start\u0026quot;: \u0026quot;node __sapper__/build\u0026quot;,\n    \u0026quot;deploy\u0026quot;: \u0026quot;sapper export --legacy \u0026amp;\u0026amp;  gh-pages -d __sapper__/export\u0026quot;\n},\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe new script will make sure that we \u003ccode\u003esapper export\u003c/code\u003e our latest changes before deploying the \u003ccode\u003e__sapper__/export\u003c/code\u003e folder to GitHub Pages. \u003ccode\u003egh-pages\u003c/code\u003e will create a branch in our repository called \u003ccode\u003egh-pages\u003c/code\u003e and this branch is what will be deployed to your site at \u003ccode\u003e\u0026lt;username\u0026gt;.github.io\u003c/code\u003e, where username is your username at GitHub.\u003c/p\u003e\n\u003cp\u003eNow you\u0026#39;re all set to simply deploy the site by running:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpm run deploy\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWe\u0026#39;re close to being done now, only one step left. We have to set the \u003ccode\u003egh-pages\u003c/code\u003e branch that was just deployed as the main branch for GitHub Pages to read from. To do this, visit the GitHub repository you created for your blog, go to settings and scroll down until you see the \u003cstrong\u003eGitHub Pages\u003c/strong\u003e section. Under \u003cstrong\u003eSource\u003c/strong\u003e you have to change the branch to the \u003ccode\u003egh-pages\u003c/code\u003e branch. It might take a few minutes until your page is correctly deployed to \u003ccode\u003e\u0026lt;username\u0026gt;.github.io\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThat\u0026#39;s it. All done. Enjoy your newly created and freely hosted blog! ðŸ¥³\u003c/p\u003e\n\u003chr\u003e\n","date":"2020-09-27","title":"Creating a blog with Svelte, Sapper and GitHub Pages","slug":"create-markdown-sapper-svelte-blog","summary":"Learn how to create your own blog using Svelte, Sapper, Markdown and how to host it for free on GitHub Pages.","categories":[],"published":true,"tags":["svelte","sapper","markdown","javascript","blog","github","rollup"]}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"create-markdown-sapper-svelte-blog"},"buildId":"FYdyJyRXsDcQOSyNZSb2c","nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"charSet":"utf-8"}],["meta",{"name":"viewport","content":"initial-scale=1.0, width=device-width"}],["title",{"children":"Creating a blog with Svelte, Sapper and GitHub Pages"}],["meta",{"name":"description","content":"Learn how to create your own blog using Svelte, Sapper, Markdown and how to host it for free on GitHub Pages."}]]}</script><script nomodule="" src="/_next/static/chunks/polyfills-fa276ba060a4a8ac7eef.js"></script><script src="/_next/static/chunks/main-652e3d69fea5bda26a4d.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.93a4db703368d9b8f53e.js" async=""></script><script src="/_next/static/chunks/a9a7754c.c97121148934262ae49b.js" async=""></script><script src="/_next/static/chunks/99f422a92ff7083adb8a7d840734144fa7589f68.f6d970403bd2fa4c2639.js" async=""></script><script src="/_next/static/chunks/99ce5ded03d7686e4bf70ff5f951df53c1ed333a.b57b3b603baeb24450d4.js" async=""></script><script src="/_next/static/chunks/pages/_app-fe9879d6772941cc7edc.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-a9359318c29489431ba1.js" async=""></script><script src="/_next/static/FYdyJyRXsDcQOSyNZSb2c/_buildManifest.js" async=""></script><script src="/_next/static/FYdyJyRXsDcQOSyNZSb2c/_ssgManifest.js" async=""></script></body></html>