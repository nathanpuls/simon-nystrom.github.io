<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css rel=stylesheet> <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{html:"\u003Cp\u003EIt quickly becomes repetitive typing out all the code needed for forms on the web, with a simple form component you can quickly get started doing what it was you wanted the form for in the first place.\u003C\u002Fp\u003E\n\u003Cp\u003EThis post will guide you through the process of designing a simple form component for \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002F\"\u003ESvelte\u003C\u002Fa\u003E projects that lets you specify a number of fields and their properties the form component will deal with the rest.\u003C\u002Fp\u003E\n\u003Cp\u003EThis guide is aimed at people new to Svelte. To follow along I assume that you know a few things about Svelte already, like how to create and start a project and how a Svelte file is structured. I also assume that you are fairly fluent in HTML, CSS and JavaScript.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch1 id=\"project-setup\"\u003EProject setup\u003C\u002Fh1\u003E\n\u003Cp\u003ESetup a new Svelte project from the default template by running the following commands:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003ECopy\u003C\u002Fdiv\u003E\u003Ccode\u003Enpx degit sveltejs\u002Ftemplate simple-svelte-form\n\u003Cspan class=\"hljs-built_in\"\u003Ecd\u003C\u002Fspan\u003E simple-svelte-form\nnpm run dev\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThis scaffolds a Svelte project and starts a local web server at \u003Ca href=\"http:\u002F\u002Flocalhost:5000\"\u003Ehttp:\u002F\u002Flocalhost:5000\u003C\u002Fa\u003E that will reload automatically as you make changes in the project.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch1 id=\"creating-the-first-basic-input-component\"\u003ECreating the first basic Input component\u003C\u002Fh1\u003E\n\u003Cp\u003EStart by creating a directory called \u003Ccode\u003Ecomponents\u003C\u002Fcode\u003E under \u003Ccode\u003Esrc\u003C\u002Fcode\u003E and create a file named \u003Ccode\u003EInput.svelte\u003C\u002Fcode\u003E here with the following contents:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003ECopy\u003C\u002Fdiv\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- src\u002Fcomponents\u002FInput.svelte --&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E value;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E placeholder;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E label;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E name;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E id;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Elabel\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efor\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{id}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{label}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Elabel\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebind:value\u003C\u002Fspan\u003E {\u003Cspan class=\"hljs-attr\"\u003Eplaceholder\u003C\u002Fspan\u003E} {\u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E} {\u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E} \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;text&quot;\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThis creates a simple Input component where we can specify some predetermined fields. You can read more about \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Fdocs#Attributes_and_props\"\u003Eshorthand property notation\u003C\u002Fa\u003E if you are unsure about how the \u003Ccode\u003E{placeholder}\u003C\u002Fcode\u003E and the \u003Ccode\u003Ebind:value\u003C\u002Fcode\u003E work.\u003C\u002Fp\u003E\n\u003Cp\u003ELet&#39;s use this in our \u003Ccode\u003Esrc\u002FApp.svelte\u003C\u002Fcode\u003E component so that we can see what it looks like now:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003ECopy\u003C\u002Fdiv\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- src\u002FApp.svelte --&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Input \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;.\u002Fcomponents\u002FInput.svelte&quot;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E value = \u003Cspan class=\"hljs-string\"\u003E&quot;Initial input&quot;\u003C\u002Fspan\u003E;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Emain\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EInput\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ebind:value\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;name&quot;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Elabel\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;Name&quot;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;name&quot;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Eplaceholder\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;Enter name...&quot;\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Emain\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ENow your site should contain a simple labeled input with the value &quot;Initial input&quot; and should be editable in the field.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch1 id=\"creating-the-form-component\"\u003ECreating the Form component\u003C\u002Fh1\u003E\n\u003Cp\u003ENow that our Input component is working, we need to create a Form component that can wrap this Input field for us in a handy way. Let&#39;s begin by creating a \u003Ccode\u003Esrc\u002Fcomponents\u002FForm.svelte\u003C\u002Fcode\u003E file:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003ECopy\u003C\u002Fdiv\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- src\u002Fcomponents\u002FForm.svelte --&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Input \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;.\u002FInput.svelte&quot;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E onSubmit;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E fields;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Convert fields from [ { name: &#x27;name&#x27;, value: &#x27;Value&#x27; } ] to { name : Value } which is more useful when submitting a form\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E fieldsToObject = \u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Efields\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E\n    fields.reduce(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Ep, c\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E ({ ...p, [c.name]: c.value }), {});\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F When submitting, turn our fields representation into a JSON body\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E handleSubmit = \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E onSubmit(fieldsToObject(fields));\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-selector-pseudo\"\u003E:global(input\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-selector-tag\"\u003Eselect\u003C\u002Fspan\u003E) {\n    \u003Cspan class=\"hljs-attribute\"\u003Emargin\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- When submitting, prevent the default action which would result in a refreshed page --&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eform\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eon:submit\u003C\u002Fspan\u003E|\u003Cspan class=\"hljs-attr\"\u003EpreventDefault\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{()\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E handleSubmit(fields)}&gt;\n    \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Loop the fields and render the correct representation based on field.type --&gt;\u003C\u002Fspan\u003E\n    {#each fields as field}\n        {#if field.type === &#x27;Input&#x27;}\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EInput\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebind:value\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{field.value}\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Elabel\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{field.label}\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eplaceholder\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{field.placeholder}\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n        {\u002Fif}\n    {\u002Feach}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ebutton\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;submit&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003ESubmit\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ebutton\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eform\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ELet&#39;s update our \u003Ccode\u003Esrc\u002FApp.svelte\u003C\u002Fcode\u003E file to use this component:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003ECopy\u003C\u002Fdiv\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- src\u002FApp.svelte --&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Form \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;.\u002Fcomponents\u002FForm.svelte&quot;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F   Our field representation, let&#x27;s us easily specify several inputs\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E fields = [\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;firstName&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Input&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Eplaceholder\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Enter first name...&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Elabel\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;First name&quot;\u003C\u002Fspan\u003E,\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;lastName&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Input&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Eplaceholder\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Enter last name...&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Elabel\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Last name&quot;\u003C\u002Fspan\u003E,\n    },\n  ];\n\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E result = {};\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EForm\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003EonSubmit\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{(body)\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n    result = body;\n  }}\n  {fields} \u002F&gt;\n\n\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Show the current state of our Form --&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Epre\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecode\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{JSON.stringify(result, 0, 2)}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ecode\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Epre\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EYour page should look something like this after submitting some values in the new Form component:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\".\u002Fimages\u002Fsvelte\u002Fsvelte_form.png\" alt=\"Form\"\u003E\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch1 id=\"adding-another-field-type-to-our-form-component\"\u003EAdding another field type to our Form component\u003C\u002Fh1\u003E\n\u003Cp\u003ENow that we have a Form component that we can extend ourselves, let&#39;s go through how to add a Select field to our form. First, we create a file \u003Ccode\u003Esrc\u002Fcomponents\u002FSelect.svelte\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003ECopy\u003C\u002Fdiv\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- src\u002Fcomponents\u002FSelect.svelte --&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E value;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E options;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E label;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E id;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Elabel\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efor\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{id}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{label}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Elabel\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eselect\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebind:value\u003C\u002Fspan\u003E {\u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E}&gt;\u003C\u002Fspan\u003E\n  {#each options as option}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eoption\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{option.value}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{option.label}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eoption\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  {\u002Feach}\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eselect\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThis component will let us render a Select field that takes options as a property. Now we need to add support for this new component in our \u003Ccode\u003Esrc\u002Fcomponents\u002FForm.svelte\u003C\u002Fcode\u003E component. Let&#39;s extend the loop over fields to look like this instead:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003ECopy\u003C\u002Fdiv\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Input \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;.\u002FInput.svelte&quot;\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Select \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;.\u002FSelect.svelte&quot;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E onSubmit;\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E fields;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Convert fields from [ { name: &#x27;name&#x27;, value: &#x27;Value&#x27; } ] to { name : Value } which is more useful when submitting a form\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E fieldsToObject = \u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Efields\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E\n    fields.reduce(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Ep, c\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E ({ ...p, [c.name]: c.value }), {});\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F When submitting, turn our fields representation into a JSON body\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E handleSubmit = \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E onSubmit(fieldsToObject(fields));\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-selector-pseudo\"\u003E:global(input\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-selector-tag\"\u003Eselect\u003C\u002Fspan\u003E) {\n    \u003Cspan class=\"hljs-attribute\"\u003Emargin\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5px\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- When submitting, prevent the default action which would result in a refreshed page --&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eform\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eon:submit\u003C\u002Fspan\u003E|\u003Cspan class=\"hljs-attr\"\u003EpreventDefault\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{()\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E handleSubmit(fields)}&gt;\n    \u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Loop the fields and render the correct representation based on field.type --&gt;\u003C\u002Fspan\u003E\n    {#each fields as field}\n        {#if field.type === &#x27;Input&#x27;}\n            \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EInput\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebind:value\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{field.value}\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Elabel\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{field.label}\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eplaceholder\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{field.placeholder}\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n        {:else if field.type === &quot;Select&quot;}\n            \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ESelect\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebind:value\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{field.value}\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Elabel\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{field.label}\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eoptions\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{field.options}\u002F\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n        {\u002Fif}\n    {\u002Feach}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ebutton\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;submit&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003ESubmit\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ebutton\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eform\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EWe also need to add another field to our \u003Ccode\u003Esrc\u002FApp.svelte\u003C\u002Fcode\u003E so that it shows up on our page:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003ECopy\u003C\u002Fdiv\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Form \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;.\u002Fcomponents\u002FForm.svelte&quot;\u003C\u002Fspan\u003E;\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F   Our field representation, let&#x27;s us easily specify several inputs\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E fields = [\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;firstName&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Input&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Eplaceholder\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Enter first name...&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Elabel\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;First name&quot;\u003C\u002Fspan\u003E,\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;lastName&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Input&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Eplaceholder\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Enter last name...&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Elabel\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Last name&quot;\u003C\u002Fspan\u003E,\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;favoriteColor&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Select&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;green&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Elabel\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Favorite color&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Eoptions\u003C\u002Fspan\u003E: [\n        { \u003Cspan class=\"hljs-attr\"\u003Elabel\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Red&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;red&quot;\u003C\u002Fspan\u003E },\n        { \u003Cspan class=\"hljs-attr\"\u003Elabel\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Green&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;green&quot;\u003C\u002Fspan\u003E },\n        { \u003Cspan class=\"hljs-attr\"\u003Elabel\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Blue&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;blue&quot;\u003C\u002Fspan\u003E },\n      ],\n    },\n  ];\n\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E result = {};\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EForm\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003EonSubmit\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{(body)\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n    result = body;\n  }}\n  {fields} \u002F&gt;\n\n\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- Show the current state of our Form --&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Epre\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ecode\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{JSON.stringify(result, 0, 2)}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ecode\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Epre\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EAfter all this is done, your page should now look something like the following after pressing submit:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\".\u002Fimages\u002Fsvelte\u002Fsvelte_form_1.png\" alt=\"Form\"\u003E\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch1 id=\"summary\"\u003ESummary\u003C\u002Fh1\u003E\n\u003Cp\u003EYou now have a Form component that you can extend with styling and other types of fields as you wish that you can use to easily create JSON bodies that can be sent to backend services or used for other purposes on the front end. Having a Form component like this that handles all the logic around transforming the data from a representation of fields to a JSON-like body is really nice for quick prototyping or just all around generic forms that follow the same rules without custom logic.\u003C\u002Fp\u003E\n\u003Cp\u003EIt&#39;s now up to you to build upon this to add validation, other field types, styling etc. 😎\u003C\u002Fp\u003E\n\u003Cp\u003EThe repository for this project can be found \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsimon-nystrom\u002Fsimple-svelte-form\"\u003Ehere\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Chr\u003E\n",date:"2020-10-09",slug:"simple-svelte-form",title:"Create a simple Form component in Svelte",categories:[],tags:["svelte","javascript"],summary:"Learn how to create a simple form component for Svelte."}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.34c89fe8.js"}catch(e){main="/client/legacy/client.b34467f9.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <link href=client/client-01038e3c.css rel=stylesheet><link href=client/Tag-401bb1aa.css rel=stylesheet><link href=client/[slug]-51b83dc6.css rel=stylesheet> <title>Create a simple Form component in Svelte</title><meta content="Learn how to create a simple form component for Svelte." name=description data-svelte=svelte-165u46n> <link href=/client/client.34c89fe8.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-01038e3c.css rel=preload as=style><link href=/client/[slug].c2f531ec.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/Tag.9134b38a.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/Tag-401bb1aa.css rel=preload as=style><link href=/client/[slug]-51b83dc6.css rel=preload as=style></head> <body> <div id=sapper> <nav class=svelte-tlf8d1><ul class=svelte-tlf8d1><li class=svelte-tlf8d1><a href=. class=svelte-tlf8d1>home</a></li> <li class=svelte-tlf8d1><a href=blog class=svelte-tlf8d1 rel=prefetch aria-current=page>blog</a></li> </ul></nav> <main class=svelte-11hgoe0> <h1 class=svelte-a9zrxd>Create a simple Form component in Svelte</h1> <div class="svelte-a9zrxd meta"><h5 class="svelte-a9zrxd gray">2020-10-09</h5> <div class="svelte-a9zrxd gray">・</div> <div class="svelte-a9zrxd tags"><div class=svelte-17mm4dg>svelte</div><div class=svelte-17mm4dg>javascript</div></div></div> <div class="svelte-a9zrxd content"><p>It quickly becomes repetitive typing out all the code needed for forms on the web, with a simple form component you can quickly get started doing what it was you wanted the form for in the first place.</p> <p>This post will guide you through the process of designing a simple form component for <a href=https://svelte.dev/ >Svelte</a> projects that lets you specify a number of fields and their properties the form component will deal with the rest.</p> <p>This guide is aimed at people new to Svelte. To follow along I assume that you know a few things about Svelte already, like how to create and start a project and how a Svelte file is structured. I also assume that you are fairly fluent in HTML, CSS and JavaScript.</p> <hr> <h1 id=project-setup>Project setup</h1> <p>Setup a new Svelte project from the default template by running the following commands:</p> <pre><div class=copy-me onclick=copyCode(this)>Copy</div><code>npx degit sveltejs/template simple-svelte-form
<span class=hljs-built_in>cd</span> simple-svelte-form
npm run dev</code></pre><p>This scaffolds a Svelte project and starts a local web server at <a href=http://localhost:5000>http://localhost:5000</a> that will reload automatically as you make changes in the project.</p> <hr> <h1 id=creating-the-first-basic-input-component>Creating the first basic Input component</h1> <p>Start by creating a directory called <code>components</code> under <code>src</code> and create a file named <code>Input.svelte</code> here with the following contents:</p> <pre><div class=copy-me onclick=copyCode(this)>Copy</div><code><span class=hljs-comment>&lt;!-- src/components/Input.svelte --></span>
<span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> value;
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> placeholder;
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> label;
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> name;
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> id;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>label</span> <span class=hljs-attr>for</span>=<span class=hljs-string>{id}</span>></span>{label}<span class=hljs-tag>&lt;/<span class=hljs-name>label</span>></span>
<span class=hljs-tag>&lt;<span class=hljs-name>input</span> <span class=hljs-attr>bind:value</span> {<span class=hljs-attr>placeholder</span>} {<span class=hljs-attr>id</span>} {<span class=hljs-attr>name</span>} <span class=hljs-attr>type</span>=<span class=hljs-string>"text"</span> /></span></code></pre><p>This creates a simple Input component where we can specify some predetermined fields. You can read more about <a href=https://svelte.dev/docs#Attributes_and_props>shorthand property notation</a> if you are unsure about how the <code>{placeholder}</code> and the <code>bind:value</code> work.</p> <p>Let's use this in our <code>src/App.svelte</code> component so that we can see what it looks like now:</p> <pre><div class=copy-me onclick=copyCode(this)>Copy</div><code><span class=hljs-comment>&lt;!-- src/App.svelte --></span>
<span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> Input <span class=hljs-keyword>from</span> <span class=hljs-string>"./components/Input.svelte"</span>;
  <span class=hljs-keyword>let</span> value = <span class=hljs-string>"Initial input"</span>;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>main</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>Input</span>
    <span class=hljs-attr>bind:value</span>
    <span class=hljs-attr>name</span>=<span class=hljs-string>"name"</span>
    <span class=hljs-attr>label</span>=<span class=hljs-string>"Name"</span>
    <span class=hljs-attr>id</span>=<span class=hljs-string>"name"</span>
    <span class=hljs-attr>placeholder</span>=<span class=hljs-string>"Enter name..."</span> /></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>main</span>></span></code></pre><p>Now your site should contain a simple labeled input with the value "Initial input" and should be editable in the field.</p> <hr> <h1 id=creating-the-form-component>Creating the Form component</h1> <p>Now that our Input component is working, we need to create a Form component that can wrap this Input field for us in a handy way. Let's begin by creating a <code>src/components/Form.svelte</code> file:</p> <pre><div class=copy-me onclick=copyCode(this)>Copy</div><code><span class=hljs-comment>&lt;!-- src/components/Form.svelte --></span>
<span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> Input <span class=hljs-keyword>from</span> <span class=hljs-string>"./Input.svelte"</span>;

  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> onSubmit;
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> fields;

  <span class=hljs-comment>// Convert fields from [ { name: 'name', value: 'Value' } ] to { name : Value } which is more useful when submitting a form</span>
  <span class=hljs-keyword>const</span> fieldsToObject = <span class=hljs-function>(<span class=hljs-params>fields</span>) =></span>
    fields.reduce(<span class=hljs-function>(<span class=hljs-params>p, c</span>) =></span> ({ ...p, [c.name]: c.value }), {});

  <span class=hljs-comment>// When submitting, turn our fields representation into a JSON body</span>
  <span class=hljs-keyword>const</span> handleSubmit = <span class=hljs-function>() =></span> onSubmit(fieldsToObject(fields));
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-selector-pseudo>:global(input</span>, <span class=hljs-selector-tag>select</span>) {
    <span class=hljs-attribute>margin</span>: <span class=hljs-number>5px</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-comment>&lt;!-- When submitting, prevent the default action which would result in a refreshed page --></span>
<span class=hljs-tag>&lt;<span class=hljs-name>form</span> <span class=hljs-attr>on:submit</span>|<span class=hljs-attr>preventDefault</span>=<span class=hljs-string>{()</span> =></span> handleSubmit(fields)}>
    <span class=hljs-comment>&lt;!-- Loop the fields and render the correct representation based on field.type --></span>
    {#each fields as field}
        {#if field.type === 'Input'}
        <span class=hljs-tag>&lt;<span class=hljs-name>Input</span> <span class=hljs-attr>bind:value</span>=<span class=hljs-string>{field.value}</span> <span class=hljs-attr>label</span>=<span class=hljs-string>{field.label}</span> <span class=hljs-attr>placeholder</span>=<span class=hljs-string>{field.placeholder}</span> /></span>
        {/if}
    {/each}
    <span class=hljs-tag>&lt;<span class=hljs-name>button</span> <span class=hljs-attr>type</span>=<span class=hljs-string>"submit"</span>></span>Submit<span class=hljs-tag>&lt;/<span class=hljs-name>button</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>form</span>></span></code></pre><p>Let's update our <code>src/App.svelte</code> file to use this component:</p> <pre><div class=copy-me onclick=copyCode(this)>Copy</div><code><span class=hljs-comment>&lt;!-- src/App.svelte --></span>
<span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> Form <span class=hljs-keyword>from</span> <span class=hljs-string>"./components/Form.svelte"</span>;

  <span class=hljs-comment>//   Our field representation, let's us easily specify several inputs</span>
  <span class=hljs-keyword>let</span> fields = [
    {
      <span class=hljs-attr>name</span>: <span class=hljs-string>"firstName"</span>,
      <span class=hljs-attr>type</span>: <span class=hljs-string>"Input"</span>,
      <span class=hljs-attr>value</span>: <span class=hljs-string>""</span>,
      <span class=hljs-attr>placeholder</span>: <span class=hljs-string>"Enter first name..."</span>,
      <span class=hljs-attr>label</span>: <span class=hljs-string>"First name"</span>,
    },
    {
      <span class=hljs-attr>name</span>: <span class=hljs-string>"lastName"</span>,
      <span class=hljs-attr>type</span>: <span class=hljs-string>"Input"</span>,
      <span class=hljs-attr>value</span>: <span class=hljs-string>""</span>,
      <span class=hljs-attr>placeholder</span>: <span class=hljs-string>"Enter last name..."</span>,
      <span class=hljs-attr>label</span>: <span class=hljs-string>"Last name"</span>,
    },
  ];

  <span class=hljs-keyword>let</span> result = {};
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>Form</span>
  <span class=hljs-attr>onSubmit</span>=<span class=hljs-string>{(body)</span> =></span> {
    result = body;
  }}
  {fields} />

<span class=hljs-comment>&lt;!-- Show the current state of our Form --></span>
<span class=hljs-tag>&lt;<span class=hljs-name>pre</span>></span><span class=hljs-tag>&lt;<span class=hljs-name>code</span>></span>{JSON.stringify(result, 0, 2)}<span class=hljs-tag>&lt;/<span class=hljs-name>code</span>></span><span class=hljs-tag>&lt;/<span class=hljs-name>pre</span>></span></code></pre><p>Your page should look something like this after submitting some values in the new Form component:</p> <p><img alt=Form src=./images/svelte/svelte_form.png></p> <hr> <h1 id=adding-another-field-type-to-our-form-component>Adding another field type to our Form component</h1> <p>Now that we have a Form component that we can extend ourselves, let's go through how to add a Select field to our form. First, we create a file <code>src/components/Select.svelte</code>:</p> <pre><div class=copy-me onclick=copyCode(this)>Copy</div><code><span class=hljs-comment>&lt;!-- src/components/Select.svelte --></span>
<span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> value;
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> options;
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> label;
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> id;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>label</span> <span class=hljs-attr>for</span>=<span class=hljs-string>{id}</span>></span>{label}<span class=hljs-tag>&lt;/<span class=hljs-name>label</span>></span>
<span class=hljs-tag>&lt;<span class=hljs-name>select</span> <span class=hljs-attr>bind:value</span> {<span class=hljs-attr>id</span>}></span>
  {#each options as option}
    <span class=hljs-tag>&lt;<span class=hljs-name>option</span> <span class=hljs-attr>value</span>=<span class=hljs-string>{option.value}</span>></span>{option.label}<span class=hljs-tag>&lt;/<span class=hljs-name>option</span>></span>
  {/each}
<span class=hljs-tag>&lt;/<span class=hljs-name>select</span>></span></code></pre><p>This component will let us render a Select field that takes options as a property. Now we need to add support for this new component in our <code>src/components/Form.svelte</code> component. Let's extend the loop over fields to look like this instead:</p> <pre><div class=copy-me onclick=copyCode(this)>Copy</div><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> Input <span class=hljs-keyword>from</span> <span class=hljs-string>"./Input.svelte"</span>;
  <span class=hljs-keyword>import</span> Select <span class=hljs-keyword>from</span> <span class=hljs-string>"./Select.svelte"</span>;

  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> onSubmit;
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> fields;

  <span class=hljs-comment>// Convert fields from [ { name: 'name', value: 'Value' } ] to { name : Value } which is more useful when submitting a form</span>
  <span class=hljs-keyword>const</span> fieldsToObject = <span class=hljs-function>(<span class=hljs-params>fields</span>) =></span>
    fields.reduce(<span class=hljs-function>(<span class=hljs-params>p, c</span>) =></span> ({ ...p, [c.name]: c.value }), {});

  <span class=hljs-comment>// When submitting, turn our fields representation into a JSON body</span>
  <span class=hljs-keyword>const</span> handleSubmit = <span class=hljs-function>() =></span> onSubmit(fieldsToObject(fields));
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-selector-pseudo>:global(input</span>, <span class=hljs-selector-tag>select</span>) {
    <span class=hljs-attribute>margin</span>: <span class=hljs-number>5px</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-comment>&lt;!-- When submitting, prevent the default action which would result in a refreshed page --></span>
<span class=hljs-tag>&lt;<span class=hljs-name>form</span> <span class=hljs-attr>on:submit</span>|<span class=hljs-attr>preventDefault</span>=<span class=hljs-string>{()</span> =></span> handleSubmit(fields)}>
    <span class=hljs-comment>&lt;!-- Loop the fields and render the correct representation based on field.type --></span>
    {#each fields as field}
        {#if field.type === 'Input'}
            <span class=hljs-tag>&lt;<span class=hljs-name>Input</span> <span class=hljs-attr>bind:value</span>=<span class=hljs-string>{field.value}</span> <span class=hljs-attr>label</span>=<span class=hljs-string>{field.label}</span> <span class=hljs-attr>placeholder</span>=<span class=hljs-string>{field.placeholder}</span> /></span>
        {:else if field.type === "Select"}
            <span class=hljs-tag>&lt;<span class=hljs-name>Select</span> <span class=hljs-attr>bind:value</span>=<span class=hljs-string>{field.value}</span> <span class=hljs-attr>label</span>=<span class=hljs-string>{field.label}</span> <span class=hljs-attr>options</span>=<span class=hljs-string>{field.options}/</span>></span>
        {/if}
    {/each}
    <span class=hljs-tag>&lt;<span class=hljs-name>button</span> <span class=hljs-attr>type</span>=<span class=hljs-string>"submit"</span>></span>Submit<span class=hljs-tag>&lt;/<span class=hljs-name>button</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>form</span>></span></code></pre><p>We also need to add another field to our <code>src/App.svelte</code> so that it shows up on our page:</p> <pre><div class=copy-me onclick=copyCode(this)>Copy</div><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>import</span> Form <span class=hljs-keyword>from</span> <span class=hljs-string>"./components/Form.svelte"</span>;

  <span class=hljs-comment>//   Our field representation, let's us easily specify several inputs</span>
  <span class=hljs-keyword>let</span> fields = [
    {
      <span class=hljs-attr>name</span>: <span class=hljs-string>"firstName"</span>,
      <span class=hljs-attr>type</span>: <span class=hljs-string>"Input"</span>,
      <span class=hljs-attr>value</span>: <span class=hljs-string>""</span>,
      <span class=hljs-attr>placeholder</span>: <span class=hljs-string>"Enter first name..."</span>,
      <span class=hljs-attr>label</span>: <span class=hljs-string>"First name"</span>,
    },
    {
      <span class=hljs-attr>name</span>: <span class=hljs-string>"lastName"</span>,
      <span class=hljs-attr>type</span>: <span class=hljs-string>"Input"</span>,
      <span class=hljs-attr>value</span>: <span class=hljs-string>""</span>,
      <span class=hljs-attr>placeholder</span>: <span class=hljs-string>"Enter last name..."</span>,
      <span class=hljs-attr>label</span>: <span class=hljs-string>"Last name"</span>,
    },
    {
      <span class=hljs-attr>name</span>: <span class=hljs-string>"favoriteColor"</span>,
      <span class=hljs-attr>type</span>: <span class=hljs-string>"Select"</span>,
      <span class=hljs-attr>value</span>: <span class=hljs-string>"green"</span>,
      <span class=hljs-attr>label</span>: <span class=hljs-string>"Favorite color"</span>,
      <span class=hljs-attr>options</span>: [
        { <span class=hljs-attr>label</span>: <span class=hljs-string>"Red"</span>, <span class=hljs-attr>value</span>: <span class=hljs-string>"red"</span> },
        { <span class=hljs-attr>label</span>: <span class=hljs-string>"Green"</span>, <span class=hljs-attr>value</span>: <span class=hljs-string>"green"</span> },
        { <span class=hljs-attr>label</span>: <span class=hljs-string>"Blue"</span>, <span class=hljs-attr>value</span>: <span class=hljs-string>"blue"</span> },
      ],
    },
  ];

  <span class=hljs-keyword>let</span> result = {};
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>Form</span>
  <span class=hljs-attr>onSubmit</span>=<span class=hljs-string>{(body)</span> =></span> {
    result = body;
  }}
  {fields} />

<span class=hljs-comment>&lt;!-- Show the current state of our Form --></span>
<span class=hljs-tag>&lt;<span class=hljs-name>pre</span>></span><span class=hljs-tag>&lt;<span class=hljs-name>code</span>></span>{JSON.stringify(result, 0, 2)}<span class=hljs-tag>&lt;/<span class=hljs-name>code</span>></span><span class=hljs-tag>&lt;/<span class=hljs-name>pre</span>></span></code></pre><p>After all this is done, your page should now look something like the following after pressing submit:</p> <p><img alt=Form src=./images/svelte/svelte_form_1.png></p> <hr> <h1 id=summary>Summary</h1> <p>You now have a Form component that you can extend with styling and other types of fields as you wish that you can use to easily create JSON bodies that can be sent to backend services or used for other purposes on the front end. Having a Form component like this that handles all the logic around transforming the data from a representation of fields to a JSON-like body is really nice for quick prototyping or just all around generic forms that follow the same rules without custom logic.</p> <p>It's now up to you to build upon this to add validation, other field types, styling etc. 😎</p> <p>The repository for this project can be found <a href=https://github.com/simon-nystrom/simple-svelte-form>here</a>.</p> <hr> </div></main> <footer class=svelte-bn61n3><div class="svelte-bn61n3 copyright">Simon Nyström © 2020</div> <div class="svelte-bn61n3 social"><a href=https://www.linkedin.com/in/simon-nystr%C3%B6m-192b12a5/ class=icon-wrapper rel=noopener target=_blank><svg aria-hidden=true class="fa-svelte icon svelte-1d15yci" role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M100.3 480H7.4V180.9h92.9V480zM53.8 140.1C24.1 140.1 0 115.5 0 85.8 0 56.1 24.1 32 53.8 32c29.7 0 53.8 24.1 53.8 53.8 0 29.7-24.1 54.3-53.8 54.3zM448 480h-92.7V334.4c0-34.7-.7-79.2-48.3-79.2-48.3 0-55.7 37.7-55.7 76.7V480h-92.8V180.9h89.1v40.8h1.3c12.4-23.5 42.7-48.3 87.9-48.3 94 0 111.3 61.9 111.3 142.3V480z" fill=currentColor></path></svg></a> <a href=https://github.com/simon-nystrom/ class=icon-wrapper rel=noopener target=_blank><svg aria-hidden=true class="fa-svelte icon svelte-1d15yci" role=img viewBox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" fill=currentColor></path></svg></a> <a href=mailto:simon.nystrom90@gmail.com class=icon-wrapper rel=noopener target=_blank><svg aria-hidden=true class="fa-svelte icon svelte-1d15yci" role=img viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z" fill=currentColor></path></svg></a> <a href=https://dev.to/simonnystrom class="svelte-bn61n3 icon-wrapper"><img alt="Simon Nyström's DEV Profile" src=https://d2fltix0v2e0sb.cloudfront.net/dev-badge.svg class=svelte-bn61n3></a></div></footer></div> 