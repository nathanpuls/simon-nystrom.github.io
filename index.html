<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link href="https://fonts.googleapis.com/css2?family=Roboto&amp;display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&amp;display=swap" rel="stylesheet"/><link href="https://use.fontawesome.com/releases/v5.15.1/css/svg-with-js.css" rel="stylesheet"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css"/><link rel="icon" type="image/png" href="/favicon.png"/><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><title>Newcurrent Blog</title><meta name="description" content="Blog posts and tutorials from a software engineer with an interest in always learning new skills and technologies and to share my knowledge."/><link rel="preload" href="/_next/static/css/7170b11fedc56229e549.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7170b11fedc56229e549.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-5d5c0d8396a37184210a.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.93a4db703368d9b8f53e.js" as="script"/><link rel="preload" href="/_next/static/chunks/a9a7754c.c97121148934262ae49b.js" as="script"/><link rel="preload" href="/_next/static/chunks/99f422a92ff7083adb8a7d840734144fa7589f68.ace57a9ae52ca0c4aaff.js" as="script"/><link rel="preload" href="/_next/static/chunks/99ce5ded03d7686e4bf70ff5f951df53c1ed333a.b57b3b603baeb24450d4.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-8bfbd89d49e5f837b67d.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/index-f9cb2a2f375c580e4134.js" as="script"/><style data-styled="" data-styled-version="5.2.1">.gCPmgg{max-width:48em;padding-left:2em;padding-right:2em;padding-bottom:10px;box-sizing:border-box;position:absolute;left:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
data-styled.g1[id="Footer__FooterWrapper-sc-1r5v4in-0"]{content:"gCPmgg,"}/*!sc*/
.ffSMEu{font-size:0.7em;}/*!sc*/
data-styled.g2[id="Footer__Copyright-sc-1r5v4in-1"]{content:"ffSMEu,"}/*!sc*/
.dlVATn{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;max-height:50px;}/*!sc*/
data-styled.g3[id="Footer__Social-sc-1r5v4in-2"]{content:"dlVATn,"}/*!sc*/
.iZJeFu svg{-webkit-transition:color 0.2s ease;transition:color 0.2s ease;color:white;}/*!sc*/
.iZJeFu:hover svg{cursor:pointer;color:#83a0e1;}/*!sc*/
data-styled.g4[id="Footer__Icon-sc-1r5v4in-3"]{content:"iZJeFu,"}/*!sc*/
.btlfRb{font-size:1.4em;margin-right:14px;}/*!sc*/
.btlfRb:last-child{margin-right:0;}/*!sc*/
data-styled.g5[id="Footer__A-sc-1r5v4in-4"]{content:"btlfRb,"}/*!sc*/
.DhNpn{border-bottom:2px solid #262e40;margin-top:-2px;}/*!sc*/
data-styled.g6[id="NavBar__NavWrapper-sc-3ha8w-0"]{content:"DhNpn,"}/*!sc*/
.dWsLiR{max-width:48em;margin:0 auto;font-weight:300;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:2em;padding-right:2em;}/*!sc*/
data-styled.g7[id="NavBar__Nav-sc-3ha8w-1"]{content:"dWsLiR,"}/*!sc*/
.cYWqKS{color:inherit;-webkit-text-decoration:none;text-decoration:none;display:block;padding:1em 0.8em;position:relative;border-bottom:2px solid #262e40;top:2px;-webkit-transition:border-bottom 0.2s ease;transition:border-bottom 0.2s ease;border-bottom:2px solid #83a0e1;}/*!sc*/
.cYWqKS:first-child{padding:1em 0em;}/*!sc*/
.cYWqKS:hover{cursor:pointer;border-bottom:2px solid #83a0e1;}/*!sc*/
.jLOfbH{color:inherit;-webkit-text-decoration:none;text-decoration:none;display:block;padding:1em 0.8em;position:relative;border-bottom:2px solid #262e40;top:2px;-webkit-transition:border-bottom 0.2s ease;transition:border-bottom 0.2s ease;border-bottom:2px solid #262e40;}/*!sc*/
.jLOfbH:first-child{padding:1em 0em;}/*!sc*/
.jLOfbH:hover{cursor:pointer;border-bottom:2px solid #83a0e1;}/*!sc*/
data-styled.g8[id="NavBar__A-sc-3ha8w-2"]{content:"cYWqKS,jLOfbH,"}/*!sc*/
.dGychE{position:relative;max-width:48em;padding:2em;padding-bottom:4.5em;margin:0 auto;box-sizing:border-box;min-height:100%;}/*!sc*/
data-styled.g9[id="_app__Content-sc-1bgbx94-0"]{content:"dGychE,"}/*!sc*/
.iUMQZT{border:none;margin:0;margin-top:10px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;border-bottom:1px solid #262e40;margin-left:4px;margin-right:4px;}/*!sc*/
@media screen and (max-width:992px){.iUMQZT{margin-left:0px;margin-right:0px;}}/*!sc*/
data-styled.g10[id="sc-bdfBwQ"]{content:"iUMQZT,"}/*!sc*/
.dGuGHk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:0.73em;padding:2px 6px;background-color:#262e40;margin:2px;border-radius:4px;}/*!sc*/
data-styled.g11[id="Tag__TagWrapper-yn0xte-0"]{content:"dGuGHk,"}/*!sc*/
.iCBlRk{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.iCBlRk:hover{cursor:pointer;}/*!sc*/
data-styled.g12[id="BlogLink__A-sc-4di987-0"]{content:"iCBlRk,"}/*!sc*/
.fKVgvT{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:4px;padding-top:12px;}/*!sc*/
data-styled.g13[id="BlogLink__Container-sc-4di987-1"]{content:"fKVgvT,"}/*!sc*/
.cXrmTe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media screen and (max-width:992px){.cXrmTe{display:none;}}/*!sc*/
data-styled.g14[id="BlogLink__Meta-sc-4di987-2"]{content:"cXrmTe,"}/*!sc*/
.laYRrX{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media screen and (max-width:992px){.laYRrX{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}/*!sc*/
data-styled.g15[id="BlogLink__Tags-sc-4di987-3"]{content:"laYRrX,"}/*!sc*/
.kgdQTJ{font-size:0.7em;margin-left:6px;}/*!sc*/
data-styled.g16[id="BlogLink__Date-sc-4di987-4"]{content:"kgdQTJ,"}/*!sc*/
.kIvpJJ{color:#7b7b7b;font-size:0.7em;}/*!sc*/
data-styled.g17[id="BlogLink__H5-sc-4di987-5"]{content:"kIvpJJ,"}/*!sc*/
.dyYxbJ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
data-styled.g18[id="DividerHeader__Wrapper-sc-3fkug8-0"]{content:"dyYxbJ,"}/*!sc*/
.lbCUrA{font-size:1.4em;}/*!sc*/
data-styled.g19[id="DividerHeader__H3-sc-3fkug8-1"]{content:"lbCUrA,"}/*!sc*/
.jZnVYg{border-bottom:1px solid #262e40;border-top:none;margin-left:0.6em;margin-right:6px;margin-top:4px;margin-bottom:0;-webkit-flex:1;-ms-flex:1;flex:1;}/*!sc*/
@media screen and (max-width:992px){.jZnVYg{margin-right:0;}}/*!sc*/
data-styled.g20[id="DividerHeader__InlineDivider-sc-3fkug8-2"]{content:"jZnVYg,"}/*!sc*/
.dyHrO{margin-bottom:30px;}/*!sc*/
data-styled.g21[id="pages__Intro-sc-13ub1a9-0"]{content:"dyHrO,"}/*!sc*/
</style></head><body><div id="__next"><div><div class="NavBar__NavWrapper-sc-3ha8w-0 DhNpn"><nav class="NavBar__Nav-sc-3ha8w-1 dWsLiR"><a href="/" class="NavBar__A-sc-3ha8w-2 cYWqKS">home</a><a href="/blog" class="NavBar__A-sc-3ha8w-2 jLOfbH">blog</a></nav></div><main class="_app__Content-sc-1bgbx94-0 dGychE"><h2>Hi! ðŸ‘‹</h2><p class="pages__Intro-sc-13ub1a9-0 dyHrO">Welcome to my site. My name is Simon NystrÃ¶m. I&#x27;m a 30 year old software engineer with a big interest in tech and programming. This site is a place for me to share my thoughts and learnings with whoever may be interested ðŸ™‚.</p><div class="DividerHeader__Wrapper-sc-3fkug8-0 dyYxbJ"><h3 class="DividerHeader__H3-sc-3fkug8-1 lbCUrA">Recent posts</h3><hr class="DividerHeader__InlineDivider-sc-3fkug8-2 jZnVYg"/></div><a href="/blog/no-runtime-errors-elm" class="BlogLink__A-sc-4di987-0 iCBlRk"><div class="BlogLink__Container-sc-4di987-1 fKVgvT"><h4>Free of runtime errors with Elm</h4><div class="BlogLink__Meta-sc-4di987-2 cXrmTe"><div class="BlogLink__Tags-sc-4di987-3 laYRrX"><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">elm</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">javascript</div><p class="BlogLink__Date-sc-4di987-4 kgdQTJ">2020-11-10</p></div></div></div><hr class="sc-bdfBwQ iUMQZT"/></a><a href="/blog/nextjs-styled-components" class="BlogLink__A-sc-4di987-0 iCBlRk"><div class="BlogLink__Container-sc-4di987-1 fKVgvT"><div><h4>Styled Components in Next.js</h4><h5 class="BlogLink__H5-sc-4di987-5 kIvpJJ">Creating a blog with React and Next.js<!-- --> (<!-- -->3<!-- --> / <!-- -->?<!-- -->)</h5></div><div class="BlogLink__Meta-sc-4di987-2 cXrmTe"><div class="BlogLink__Tags-sc-4di987-3 laYRrX"><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">react</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">javascript</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">...</div><p class="BlogLink__Date-sc-4di987-4 kgdQTJ">2020-11-07</p></div></div></div><hr class="sc-bdfBwQ iUMQZT"/></a><a href="/blog/nextjs-routing" class="BlogLink__A-sc-4di987-0 iCBlRk"><div class="BlogLink__Container-sc-4di987-1 fKVgvT"><div><h4>Routing in Next.js</h4><h5 class="BlogLink__H5-sc-4di987-5 kIvpJJ">Creating a blog with React and Next.js<!-- --> (<!-- -->2<!-- --> / <!-- -->?<!-- -->)</h5></div><div class="BlogLink__Meta-sc-4di987-2 cXrmTe"><div class="BlogLink__Tags-sc-4di987-3 laYRrX"><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">react</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">javascript</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">...</div><p class="BlogLink__Date-sc-4di987-4 kgdQTJ">2020-11-05</p></div></div></div><hr class="sc-bdfBwQ iUMQZT"/></a><a href="/blog/initialize-nextjs-project" class="BlogLink__A-sc-4di987-0 iCBlRk"><div class="BlogLink__Container-sc-4di987-1 fKVgvT"><div><h4>Initializing a Next.js project</h4><h5 class="BlogLink__H5-sc-4di987-5 kIvpJJ">Creating a blog with React and Next.js<!-- --> (<!-- -->1<!-- --> / <!-- -->?<!-- -->)</h5></div><div class="BlogLink__Meta-sc-4di987-2 cXrmTe"><div class="BlogLink__Tags-sc-4di987-3 laYRrX"><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">react</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">javascript</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">...</div><p class="BlogLink__Date-sc-4di987-4 kgdQTJ">2020-11-05</p></div></div></div><hr class="sc-bdfBwQ iUMQZT"/></a><a href="/blog/web-scraping-python" class="BlogLink__A-sc-4di987-0 iCBlRk"><div class="BlogLink__Container-sc-4di987-1 fKVgvT"><h4>Web scraping with Python</h4><div class="BlogLink__Meta-sc-4di987-2 cXrmTe"><div class="BlogLink__Tags-sc-4di987-3 laYRrX"><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">python</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">web-scraping</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">...</div><p class="BlogLink__Date-sc-4di987-4 kgdQTJ">2020-11-01</p></div></div></div><hr class="sc-bdfBwQ iUMQZT"/></a><a href="/blog/host-static-website-netlify" class="BlogLink__A-sc-4di987-0 iCBlRk"><div class="BlogLink__Container-sc-4di987-1 fKVgvT"><h4>Host a static website for free using Netlify and GitHub</h4><div class="BlogLink__Meta-sc-4di987-2 cXrmTe"><div class="BlogLink__Tags-sc-4di987-3 laYRrX"><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">svelte</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">sapper</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">...</div><p class="BlogLink__Date-sc-4di987-4 kgdQTJ">2020-10-26</p></div></div></div><hr class="sc-bdfBwQ iUMQZT"/></a><a href="/blog/crud-api-node-mongodb" class="BlogLink__A-sc-4di987-0 iCBlRk"><div class="BlogLink__Container-sc-4di987-1 fKVgvT"><h4>Create a CRUD API with Node.js and MongoDB</h4><div class="BlogLink__Meta-sc-4di987-2 cXrmTe"><div class="BlogLink__Tags-sc-4di987-3 laYRrX"><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">node</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">mongodb</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">...</div><p class="BlogLink__Date-sc-4di987-4 kgdQTJ">2020-10-20</p></div></div></div><hr class="sc-bdfBwQ iUMQZT"/></a><a href="/blog/containerized-development-environment" class="BlogLink__A-sc-4di987-0 iCBlRk"><div class="BlogLink__Container-sc-4di987-1 fKVgvT"><h4>Containerizing your development environment</h4><div class="BlogLink__Meta-sc-4di987-2 cXrmTe"><div class="BlogLink__Tags-sc-4di987-3 laYRrX"><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">docker</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">vscode</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">...</div><p class="BlogLink__Date-sc-4di987-4 kgdQTJ">2020-10-19</p></div></div></div><hr class="sc-bdfBwQ iUMQZT"/></a><a href="/blog/simple-svelte-form" class="BlogLink__A-sc-4di987-0 iCBlRk"><div class="BlogLink__Container-sc-4di987-1 fKVgvT"><h4>Create a simple Form component in Svelte</h4><div class="BlogLink__Meta-sc-4di987-2 cXrmTe"><div class="BlogLink__Tags-sc-4di987-3 laYRrX"><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">svelte</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">javascript</div><p class="BlogLink__Date-sc-4di987-4 kgdQTJ">2020-10-09</p></div></div></div><hr class="sc-bdfBwQ iUMQZT"/></a><a href="/blog/docker-mongodb-development" class="BlogLink__A-sc-4di987-0 iCBlRk"><div class="BlogLink__Container-sc-4di987-1 fKVgvT"><h4>Setting up MongoDB in Docker for development</h4><div class="BlogLink__Meta-sc-4di987-2 cXrmTe"><div class="BlogLink__Tags-sc-4di987-3 laYRrX"><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">docker</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">mongodb</div><p class="BlogLink__Date-sc-4di987-4 kgdQTJ">2020-10-04</p></div></div></div><hr class="sc-bdfBwQ iUMQZT"/></a><a href="/blog/create-markdown-sapper-svelte-blog" class="BlogLink__A-sc-4di987-0 iCBlRk"><div class="BlogLink__Container-sc-4di987-1 fKVgvT"><h4>Creating a blog with Svelte, Sapper and GitHub Pages</h4><div class="BlogLink__Meta-sc-4di987-2 cXrmTe"><div class="BlogLink__Tags-sc-4di987-3 laYRrX"><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">svelte</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">sapper</div><div class="Tag__TagWrapper-yn0xte-0 dGuGHk">...</div><p class="BlogLink__Date-sc-4di987-4 kgdQTJ">2020-09-27</p></div></div></div><hr class="sc-bdfBwQ iUMQZT"/></a></main><footer class="Footer__FooterWrapper-sc-1r5v4in-0 gCPmgg"><div class="Footer__Copyright-sc-1r5v4in-1 ffSMEu copyright">Simon NystrÃ¶m Â© <!-- -->2020</div><div class="Footer__Social-sc-1r5v4in-2 dlVATn"><a target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/simon-nystr%C3%B6m-192b12a5/" class="Footer__A-sc-1r5v4in-4 btlfRb"><div class="Footer__Icon-sc-1r5v4in-3 iZJeFu"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></div></a><a target="_blank" rel="noopener noreferrer" href="https://github.com/simon-nystrom/" class="Footer__A-sc-1r5v4in-4 btlfRb"><div class="Footer__Icon-sc-1r5v4in-3 iZJeFu"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></div></a><a target="_blank" rel="noopener noreferrer" href="mailto:simon.nystrom90@gmail.com" class="Footer__A-sc-1r5v4in-4 btlfRb"><div class="Footer__Icon-sc-1r5v4in-3 iZJeFu"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="envelope" class="svg-inline--fa fa-envelope fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"></path></svg></div></a><a target="_blank" rel="noopener noreferrer" href="https://dev.to/simonnystrom" class="Footer__A-sc-1r5v4in-4 btlfRb"><div class="Footer__Icon-sc-1r5v4in-3 iZJeFu"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="dev" class="svg-inline--fa fa-dev fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35H91.03v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35 3.88-2.9 5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06zM404.1 32H43.9C19.7 32 .06 51.59 0 75.8v360.4C.06 460.41 19.7 480 43.9 480h360.2c24.21 0 43.84-19.59 43.9-43.8V75.8c-.06-24.21-19.7-43.8-43.9-43.8zM154.2 291.19c0 18.81-11.61 47.31-48.36 47.25h-46.4V172.98h47.38c35.44 0 47.36 28.46 47.37 47.28l.01 70.93zm100.68-88.66H201.6v38.42h32.57v29.57H201.6v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69V193.7c-.27-11.15 8.56-20.41 19.71-20.69h63.19l-.01 29.52zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58l-38.46 144.8z"></path></svg></div></a></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"html":"\u003cp\u003eWe will build a simpler version of \u003ca href=\"https://todo.newcurrent.se/\"\u003ethis\u003c/a\u003e in this blog post. It goes through the steps of setting up an \u003ca href=\"https://elm-lang.org/\"\u003e\u003ccode\u003eElm\u003c/code\u003e\u003c/a\u003e project and the benefits of using \u003ccode\u003eElm\u003c/code\u003e on the front-end and how it provides some really nice help for you as a developer.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"prerequisites\"\u003ePrerequisites\u003c/h1\u003e\n\u003cp\u003eYou need a few things to get started. Knowledge of JavaScript, HTML and CSS is expected as this guide skips over all those steps and I recommend following my \u003ca href=\"https://newcurrent.se/blog/containerized-development-environment\"\u003edevcontainer guide\u003c/a\u003e and using an \u003ccode\u003eElm\u003c/code\u003e container (instead of a \u003ccode\u003eNode\u003c/code\u003e container like that guide) since that eliminates any sort of installation process for you. For this tutorial I will be using a devcontainer, but if you want to install \u003ccode\u003eElm\u003c/code\u003e on your local filesystem you can do so too by following the steps \u003ca href=\"https://guide.elm-lang.org/install/elm.html\"\u003ehere\u003c/a\u003e. Knowing the basics of some functional programming concepts won\u0026#39;t hurt either ðŸ˜Š.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"the-elm-architecture\"\u003eThe Elm architecture\u003c/h1\u003e\n\u003cp\u003e\u003ccode\u003eElm\u003c/code\u003e uses something it refers to as \u003ca href=\"https://guide.elm-lang.org/architecture/\"\u003e\u003ccode\u003eThe Elm Architecture\u003c/code\u003e\u003c/a\u003e. This architecture is really useful when dealing with transformations of data and reactive updates. Perhaps you\u0026#39;ve heard of a popular state management library called Redux? The Redux architecture is inspired by the one used in Elm. This pattern is built into \u003ccode\u003eElm\u003c/code\u003e, so no need for a third-party lib.\u003c/p\u003e\n\u003cp\u003eThe Elm Architecture builds on three core principles:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eModel - The model (often called state in other frameworks) of your application\u003c/li\u003e\n\u003cli\u003eView - Convert the model to HTML\u003c/li\u003e\n\u003cli\u003eUpdate - Update the model\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eYou can already see how this architecture works: The model turns into HTML that is then acted upon (updated) which then triggers an update and the HTML is re-rendered etc. You can think of this as a render loop.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"creating-a-basic-page\"\u003eCreating a basic page\u003c/h1\u003e\n\u003cp\u003eLet\u0026#39;s start by initializing the project, this is done by running the following:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003eelm init\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis creates a folder called \u003ccode\u003esrc\u003c/code\u003e and a file called \u003ccode\u003eelm.json\u003c/code\u003e. You can think of this like the \u003ccode\u003epackage.json\u003c/code\u003e for a \u003ccode\u003enode\u003c/code\u003e project, basically it describes your project and its dependencies.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s create our first page, create a page called \u003ccode\u003eMain.elm\u003c/code\u003e and place it in the \u003ccode\u003esrc\u003c/code\u003e directory.\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e-- Don\u0026#x27;t worry about this line, we can expose everything because\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e-- we will only be using this file, so exposing something doesn\u0026#x27;t\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e-- matter\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003emodule\u003c/span\u003e Main \u003cspan class=\"hljs-keyword\"\u003eexposing\u003c/span\u003e (..)\n\n\u003cspan class=\"hljs-comment\"\u003e-- Imports that we need the run our initial example\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Browser\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Html \u003cspan class=\"hljs-keyword\"\u003eexposing\u003c/span\u003e (\u003cspan class=\"hljs-type\"\u003eHtml\u003c/span\u003e, div, text)\n\n\u003cspan class=\"hljs-comment\"\u003e-- Initialize the empty record, this is used by Elm\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e-- to create the initial model\u003c/span\u003e\n\u003cspan class=\"hljs-title\"\u003einit\u003c/span\u003e : \u003cspan class=\"hljs-type\"\u003eModel\u003c/span\u003e\n\u003cspan class=\"hljs-title\"\u003einit\u003c/span\u003e =\n     \u003cspan class=\"hljs-type\"\u003eModel\u003c/span\u003e\n\n\n\u003cspan class=\"hljs-comment\"\u003e-- We don\u0026#x27;t have a type annotation here, which is normally\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e-- recommended but that\u0026#x27;s okay because we don\u0026#x27;t have to worry\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e-- about what this function returns\u003c/span\u003e\n\u003cspan class=\"hljs-title\"\u003emain\u003c/span\u003e =\n    \u003cspan class=\"hljs-type\"\u003eBrowser\u003c/span\u003e.sandbox { init = init, update = update, view = view }\n\n\n\u003cspan class=\"hljs-comment\"\u003e-- Right now, our Model is just an empty Record\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ealias\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eModel\u003c/span\u003e =\n    {}\n\n\n\u003cspan class=\"hljs-comment\"\u003e-- Prepare the Msg type that will be used to trigger\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e-- updates in the render loop\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMsg\u003c/span\u003e\n    = \u003cspan class=\"hljs-type\"\u003eNever\u003c/span\u003e\n\n\n\u003cspan class=\"hljs-comment\"\u003e-- Right now, whatever Msg we get we won\u0026#x27;t update the model\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e-- Msg -\u0026gt; Model -\u0026gt; Model simplified means this function takes\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e-- in a Msg and a Model and produces a new Model.\u003c/span\u003e\n\u003cspan class=\"hljs-title\"\u003eupdate\u003c/span\u003e : \u003cspan class=\"hljs-type\"\u003eMsg\u003c/span\u003e -\u0026gt; \u003cspan class=\"hljs-type\"\u003eModel\u003c/span\u003e -\u0026gt; \u003cspan class=\"hljs-type\"\u003eModel\u003c/span\u003e\n\u003cspan class=\"hljs-title\"\u003eupdate\u003c/span\u003e msg model =\n    \u003cspan class=\"hljs-type\"\u003eModel\u003c/span\u003e\n\n\n\u003cspan class=\"hljs-comment\"\u003e-- Our view is a function that takes the model and produces Html\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e-- and messages that in turn trigger the update function\u003c/span\u003e\n\u003cspan class=\"hljs-title\"\u003eview\u003c/span\u003e : \u003cspan class=\"hljs-type\"\u003eModel\u003c/span\u003e -\u0026gt; \u003cspan class=\"hljs-type\"\u003eHtml\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMsg\u003c/span\u003e\n\u003cspan class=\"hljs-title\"\u003eview\u003c/span\u003e model =\n    div [] [ text \u003cspan class=\"hljs-string\"\u003e\u0026quot;Hello world\u0026quot;\u003c/span\u003e ]\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow that we have our \u003ccode\u003esrc/Main.elm\u003c/code\u003e file set up, let\u0026#39;s try to run our code and view it in a browser. We\u0026#39;ll use \u003ccode\u003eelm reactor\u003c/code\u003e for this. \u003ccode\u003eelm reactor\u003c/code\u003e allows you to inspect your program in a file browser in the browser and whatever file you click on gets compiled and rendered, try it out by visiting \u003ca href=\"http://localhost:8000\"\u003ehttp://localhost:8000\u003c/a\u003e and browsing to \u003ccode\u003esrc/Main.elm\u003c/code\u003e after running:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003eelm reactor\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis should show you an HTML page that only contains the string \u003cem\u003eHello world\u003c/em\u003e.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"adding-an-input-field-and-tying-it-to-our-model\"\u003eAdding an Input field and tying it to our Model\u003c/h1\u003e\n\u003cp\u003eOur page is useless at the moment. All it does is display a static string and since we want to create a todo tracker, let\u0026#39;s start by adding an input field where we can type our todos. Modify the \u003ccode\u003eview\u003c/code\u003e function to look like this instead:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-title\"\u003eview\u003c/span\u003e model =\n    div []\n        [ input [] []\n        ]\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAlso make sure you add \u003ccode\u003einput\u003c/code\u003e as an exposed field near the start of the file:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Html \u003cspan class=\"hljs-keyword\"\u003eexposing\u003c/span\u003e (\u003cspan class=\"hljs-type\"\u003eHtml\u003c/span\u003e, div, input, text)\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThese HTML functions that correspond to HTML element names are functions that take two parameters, one list of attributes and one list of children, so our example with the updated model would generate HTML equal to this:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow, our \u003ccode\u003einput\u003c/code\u003e can\u0026#39;t really do anything, so we need to tie some behavior to it. Let\u0026#39;s create a type of \u003ccode\u003eMsg\u003c/code\u003e for that, call it \u003ccode\u003eUpdateInput\u003c/code\u003e. Change the \u003ccode\u003etype Msg\u003c/code\u003e we created earlier to look like this:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMsg\u003c/span\u003e\n    = \u003cspan class=\"hljs-type\"\u003eUpdateInput\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWe also need to let our \u003ccode\u003eModel\u003c/code\u003e know that we need to track the state of a field:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ealias\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eModel\u003c/span\u003e =\n    { value : \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e }\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe \u003ccode\u003eElm\u003c/code\u003e compiler will complain now, because the type of our \u003ccode\u003eModel\u003c/code\u003e changed, so our \u003ccode\u003einit\u003c/code\u003e function needs to handle this new type of model:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-title\"\u003einit\u003c/span\u003e =\n    { value = \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e }\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd let\u0026#39;s have our \u003ccode\u003einput\u003c/code\u003e fire the event when it\u0026#39;s changed, let\u0026#39;s also create a new \u003ccode\u003ediv\u003c/code\u003e element to display whatever the value of our \u003ccode\u003emodel.value\u003c/code\u003e is:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e-- Make sure to import the onInput event near the top of the file\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Html.Events \u003cspan class=\"hljs-keyword\"\u003eexposing\u003c/span\u003e (onInput)\n\n\u003cspan class=\"hljs-comment\"\u003e-- ...\u003c/span\u003e\n\n\u003cspan class=\"hljs-title\"\u003eview\u003c/span\u003e model =\n    div []\n        [ input [ onInput \u003cspan class=\"hljs-type\"\u003eUpdateInput\u003c/span\u003e ] []\n        , div [] [text model.value]\n        ]\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow we need to let our \u003ccode\u003eupdate\u003c/code\u003e function react to this type of \u003ccode\u003eMsg\u003c/code\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-title\"\u003eupdate\u003c/span\u003e msg model =\n    \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e msg \u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e\n        \u003cspan class=\"hljs-comment\"\u003e-- Whenever we get the UpdateInput message, assign the new value to our state\u0026#x27;s\u003c/span\u003e\n        \u003cspan class=\"hljs-comment\"\u003e-- value and set that to be the new value. Whatever update returns is the new\u003c/span\u003e\n        \u003cspan class=\"hljs-comment\"\u003e-- state of the application\u003c/span\u003e\n        \u003cspan class=\"hljs-type\"\u003eUpdateInput\u003c/span\u003e input -\u0026gt;\n            { value = input }\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eRun your app again and you should see that whatever you type into the \u003ccode\u003einput\u003c/code\u003e field is reflected on a line below.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"creating-a-type-for-our-todo\"\u003eCreating a type for our Todo\u003c/h1\u003e\n\u003cp\u003eWe\u0026#39;ve come pretty far already, our next step should be preparing the \u003ccode\u003etype\u003c/code\u003e needed by our application to track Todo items.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s create a Todo alias type, this let\u0026#39;s you treat the type Todo as a record consisting of the fields within:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ealias\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eTodo\u003c/span\u003e =\n    { id : \u003cspan class=\"hljs-type\"\u003eInt\u003c/span\u003e, task : \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e, isComplete : \u003cspan class=\"hljs-type\"\u003eBool\u003c/span\u003e }\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOur model should track the Todos, so that we can display them:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ealias\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eModel\u003c/span\u003e =\n    { value : \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e, todos : \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eTodo\u003c/span\u003e }\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAgain, the power of static typing will give two handy errors for us to fix, since our \u003ccode\u003eModel\u003c/code\u003e now contains one more field, we need to update both the \u003ccode\u003einit\u003c/code\u003e and \u003ccode\u003eupdate\u003c/code\u003e function:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-title\"\u003einit\u003c/span\u003e =\n    \u003cspan class=\"hljs-comment\"\u003e-- Let the todo list be empty to start with\u003c/span\u003e\n    { value = \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e, todos = [] }\n\n\u003cspan class=\"hljs-comment\"\u003e-- ...\u003c/span\u003e\n\n\u003cspan class=\"hljs-title\"\u003eupdate\u003c/span\u003e msg model =\n    \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e msg \u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e\n        \u003cspan class=\"hljs-type\"\u003eUpdateInput\u003c/span\u003e input -\u0026gt;\n            \u003cspan class=\"hljs-comment\"\u003e-- This is syntax sugar to let Elm know that when\u003c/span\u003e\n            \u003cspan class=\"hljs-comment\"\u003e-- this message is fired, the model should stay\u003c/span\u003e\n            \u003cspan class=\"hljs-comment\"\u003e-- unmodified except for the value property that\u003c/span\u003e\n            \u003cspan class=\"hljs-comment\"\u003e-- should be set to the new value of the input field\u003c/span\u003e\n            { model | value = input }\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThat\u0026#39;s great. We\u0026#39;ve added a new type and handled the addition of it. You can\u0026#39;t interact with it at all yet though, let\u0026#39;s make that happen in the next section.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"adding-todos-to-our-state\"\u003eAdding Todos to our state\u003c/h1\u003e\n\u003cp\u003eFirst, we need a button we can press so that the value of our input is added as a todo in our Todo list.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s start by defining a new type of message:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMsg\u003c/span\u003e\n    = \u003cspan class=\"hljs-type\"\u003eUpdateInput\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e\n    | \u003cspan class=\"hljs-type\"\u003eAddTodo\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eYou\u0026#39;ll notice our code has another error now. This is the beauty of \u003ccode\u003eElm\u003c/code\u003e. You should see a compiler error telling you the following:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/elm/compiler_error.png\" alt=\"Compiler error in Elm\"\u003e\u003c/p\u003e\n\u003cp\u003eThis is amazing, the compiler is letting us know that we haven\u0026#39;t handled the case of the \u003ccode\u003eAddTodo\u003c/code\u003e message and \u003ccode\u003eElm\u003c/code\u003e has no idea what to do if that was to happen, so it\u0026#39;s forcing us to deal with it immediately. Let\u0026#39;s do that:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-title\"\u003eupdate\u003c/span\u003e msg model =\n    \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e msg \u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e\n        \u003cspan class=\"hljs-type\"\u003eUpdateInput\u003c/span\u003e input -\u0026gt;\n            { model | value = input }\n\n        \u003cspan class=\"hljs-type\"\u003eAddTodo\u003c/span\u003e -\u0026gt;\n            \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e model.value \u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e\n                \u003cspan class=\"hljs-comment\"\u003e-- If the value of the input field is empty, do nothing\u003c/span\u003e\n                \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e -\u0026gt;\n                    model\n\n                \u003cspan class=\"hljs-comment\"\u003e-- Whatever else the input field is set to, add it as a todo\u003c/span\u003e\n                _ -\u0026gt;\n                    { model\n                        | todos =\n                            \u003cspan class=\"hljs-comment\"\u003e-- Let\u0026#x27;s update our todos field to include the new Todo item.\u003c/span\u003e\n                            \u003cspan class=\"hljs-comment\"\u003e-- Its ID will be the number of todos at creation, its value\u003c/span\u003e\n                            \u003cspan class=\"hljs-comment\"\u003e-- will be the value of our input and it will initially not\u003c/span\u003e\n                            \u003cspan class=\"hljs-comment\"\u003e-- be marked as complete\u003c/span\u003e\n                            { id = \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e.length model.todos, task = model.value, isComplete = \u003cspan class=\"hljs-type\"\u003eFalse\u003c/span\u003e }\n                                \u003cspan class=\"hljs-comment\"\u003e-- (::) is a function in Elm that can be used to add something to the\u003c/span\u003e\n                                \u003cspan class=\"hljs-comment\"\u003e-- front of a list\u003c/span\u003e\n                                :: model.todos\n                    }\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eGood. We\u0026#39;re handling all the messages our app can pass at this stage. We\u0026#39;re never firing the \u003ccode\u003eAddTodo\u003c/code\u003e message at the moment, let\u0026#39;s implement that next and add a way to display our list of Todos:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e-- Make sure button is imported at the top for this step\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Html \u003cspan class=\"hljs-keyword\"\u003eexposing\u003c/span\u003e (\u003cspan class=\"hljs-type\"\u003eHtml\u003c/span\u003e, button, div, input, text)\n\n\u003cspan class=\"hljs-comment\"\u003e-- And make sure the onClick event is included too\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Html.Events \u003cspan class=\"hljs-keyword\"\u003eexposing\u003c/span\u003e (onClick, onInput)\n\u003cspan class=\"hljs-comment\"\u003e--...\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e-- Create a helper function to render our todos\u003c/span\u003e\n\u003cspan class=\"hljs-title\"\u003eviewTodo\u003c/span\u003e : \u003cspan class=\"hljs-type\"\u003eTodo\u003c/span\u003e -\u0026gt; \u003cspan class=\"hljs-type\"\u003eHtml\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eMsg\u003c/span\u003e\n\u003cspan class=\"hljs-title\"\u003eviewTodo\u003c/span\u003e t =\n    div [] [ text t.task ]\n\n\u003cspan class=\"hljs-title\"\u003eview\u003c/span\u003e model =\n    div []\n        [ input [ onInput \u003cspan class=\"hljs-type\"\u003eUpdateInput\u003c/span\u003e ] []\n        \u003cspan class=\"hljs-comment\"\u003e-- When we click the Add button, fire the AddTodo event\u003c/span\u003e\n        , button [onClick \u003cspan class=\"hljs-type\"\u003eAddTodo\u003c/span\u003e] [ text \u003cspan class=\"hljs-string\"\u003e\u0026quot;Add\u0026quot;\u003c/span\u003e ]\n        \u003cspan class=\"hljs-comment\"\u003e-- Run all our todos through the viewTodo function\u003c/span\u003e\n        , div [] (\u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e.map viewTodo model.todos)\n        ]\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eRun your app now and you should be able to type text into the input field and click add and you should see an increasing number of todos being added to the list.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"summary\"\u003eSummary\u003c/h1\u003e\n\u003cp\u003e\u003ccode\u003eElm\u003c/code\u003e is an excellent programming language in my opinion. The compiler really helps you out with extremely friendly error messages that tell you what you need to do to make it compile. Once it compiles, it\u0026#39;s probably going to work.\u003c/p\u003e\n\u003cp\u003eYou can achieve close to no runtime errors by using Elm. Sure, writing the code up front might take a bit longer but Elms compiler really helps you when you need to refactor or fix bugs. \u003ccode\u003eElm\u003c/code\u003e doesn\u0026#39;t even have a concept of \u003ccode\u003enull\u003c/code\u003e! Everything must have a value.\u003c/p\u003e\n\u003cp\u003eI think the barrier of entry to \u003ccode\u003eElm\u003c/code\u003e is a big high, but if you have some basic functional programming experience and knowledge of HTML, CSS and JavaScript you should be able to create web apps with \u003ccode\u003eElm\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThe repository for this app is here: \u003ca href=\"https://github.com/simon-nystrom/basic-elm-todo\"\u003ehttps://github.com/simon-nystrom/basic-elm-todo\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eI hope you found it interesting and that you\u0026#39;ll try out \u003ccode\u003eElm\u003c/code\u003e yourself!\u003c/p\u003e\n","date":"2020-11-10","title":"Free of runtime errors with Elm","slug":"no-runtime-errors-elm","summary":"Learn about the basics of Elm and how it can help you eliminate runtime errors for good.","categories":[],"published":true,"tags":["elm","javascript"]},{"html":"\u003cp\u003eAlthough this post is part of a series, the aim is for the post to be able to stand on its own, you should be able to take away some knowledge even if you\u0026#39;re not following the tutorial series. If you\u0026#39;re interested, the tutorial series starts here: \u003ca href=\"https://newcurrent.se/blog/initialize-nextjs-project\"\u003ePart 1\u003c/a\u003e.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"prerequisites\"\u003ePrerequisites\u003c/h1\u003e\n\u003cp\u003eThe prerequisites for this tutorial are stated in \u003ca href=\"https://newcurrent.se/blog/initialize-nextjs-project\"\u003ePart 1\u003c/a\u003e and the components we will be using in this tutorial are from \u003ca href=\"https://newcurrent.se/blog/initialize-nextjs-project\"\u003ePart 1\u003c/a\u003e and \u003ca href=\"https://newcurrent.se/blog/nextjs-routing\"\u003ePart 2\u003c/a\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"styling-in-nextjs\"\u003eStyling in Next.js\u003c/h1\u003e\n\u003cp\u003eThere are multiple ways of styling your components in a Next.js project, just like in any other React project. I prefer using \u003ca href=\"https://styled-components.com/\"\u003e\u003ccode\u003estyled-components\u003c/code\u003e\u003c/a\u003e though as they make it easy to modify the CSS and to have everything properly scoped out of the box, no worrying about clashing CSS classes and what not. This post will walk you through how to set up \u003ccode\u003estyled-components\u003c/code\u003e for your statically generated Next.js project.\u003c/p\u003e\n\u003cp\u003eSome other approaches to styling include:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nextjs.org/learn/basics/assets-metadata-css/global-styles\"\u003eGlobal styles\u003c/a\u003e (we will actually utilize this as well in a later tutorial in this series).\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://nextjs.org/docs/basic-features/built-in-css-support#adding-component-level-css\"\u003eCSS Modules\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://reactjs.org/docs/dom-elements.html#style\"\u003eInline styling\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch1 id=\"enabling-styled-components-in-nextjs\"\u003eEnabling \u003ccode\u003estyled-components\u003c/code\u003e in Next.js\u003c/h1\u003e\n\u003cp\u003eTo enable \u003ccode\u003estyled-components\u003c/code\u003e in Next.js, we need to install some dependencies namely:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003eyarn add -D styled-components babel-plugin-styled-components\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ccode\u003estyled-components\u003c/code\u003e is the library itself and \u003ccode\u003ebabel-plugin-styled-components\u003c/code\u003e is needed to consistently hash \u003ccode\u003eclassNames\u003c/code\u003e between environments (\u003ccode\u003estyled-components\u003c/code\u003e won\u0026#39;t behave well with SSR/SSG otherwise).\u003c/p\u003e\n\u003cp\u003eWe also need to create our own \u003ccode\u003e.babelrc\u003c/code\u003e in the root of the project to be able to override the default babel behaviour used by Next.js:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e{\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;presets\u0026quot;\u003c/span\u003e: [\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;next/babel\u0026quot;\u003c/span\u003e\n    ],\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;plugins\u0026quot;\u003c/span\u003e: [\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;babel-plugin-styled-components\u0026quot;\u003c/span\u003e\n    ]\n}\u003c/code\u003e\u003c/pre\u003e\u003chr\u003e\n\u003ch1 id=\"extracting-and-styling-our-nav-bar\"\u003eExtracting and styling our nav bar\u003c/h1\u003e\n\u003cp\u003eOur blog as we left it in \u003ca href=\"https://newcurrent.se/blog/nextjs-routing\"\u003epart 2\u003c/a\u003e isn\u0026#39;t pretty. Let\u0026#39;s change that and make it look more like an actual layout.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s begin by extracting our inline \u003ccode\u003enav\u003c/code\u003e from \u003ccode\u003e_app.js\u003c/code\u003e and make it its own component.\u003c/p\u003e\n\u003cp\u003eStart by creating a folder called \u003ccode\u003ecomponents\u003c/code\u003e at the root level and create a file called \u003ccode\u003eNavBar.js\u003c/code\u003e inside:\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ecomponents/NavBar.js\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e styled \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;styled-components\u0026quot;\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Link \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;next/link\u0026quot;\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e Nav = styled.nav\u003cspan class=\"hljs-string\"\u003e`\n  max-width: 56em;\n  margin: 0 auto;\n  padding: 0.4em;\n`\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e Ul = styled.ul\u003cspan class=\"hljs-string\"\u003e`\n  display: flex;\n  padding: 0;\n`\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e Li = styled.li\u003cspan class=\"hljs-string\"\u003e`\n  display: block;\n  padding: 0.4em;\n`\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Note that styled-components lets you use SCSS syntax\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e A = styled.a\u003cspan class=\"hljs-string\"\u003e`\n  \u0026amp;:hover {\n    color: blue;\n  }\n`\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e NavBar = \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e (\n  \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eNav\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eUl\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLi\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;/\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003epassHref\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eA\u003c/span\u003e\u0026gt;\u003c/span\u003eHome\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eA\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eLi\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLi\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;/blog\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003epassHref\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eA\u003c/span\u003e\u0026gt;\u003c/span\u003eBlog\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eA\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eLi\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eUl\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eNav\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n)\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e NavBar\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ccode\u003e_app.js\u003c/code\u003e can now be simplified to look like this instead:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e NavBar \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;../components/NavBar\u0026quot;\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;../styles/globals.css\u0026quot;\u003c/span\u003e\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{ Component, pageProps }\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eNavBar\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eComponent\u003c/span\u003e {\u003cspan class=\"hljs-attr\"\u003e...pageProps\u003c/span\u003e} /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  )\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e MyApp\u003c/code\u003e\u003c/pre\u003e\u003chr\u003e\n\u003ch1 id=\"styling-our-other-components\"\u003eStyling our other components\u003c/h1\u003e\n\u003cp\u003eLet\u0026#39;s also add some basic styling to our other components so they look a little bit more pleasing. Feel free to experiment here with \u003ccode\u003estyled-components\u003c/code\u003e if you want to do something more advanced.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003epages/index.js\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e styled \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;styled-components\u0026quot;\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e Main = styled.main\u003cspan class=\"hljs-string\"\u003e`\n  max-width: 56em;\n  padding: 0.8em;\n  margin: 0 auto;\n`\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eHome\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eMain\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u0026gt;\u003c/span\u003eWelcome!\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003eThis is the main page\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eMain\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  )\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ccode\u003epages/blog/index.js\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Link \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;next/link\u0026quot;\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e styled \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;styled-components\u0026quot;\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e posts \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;../_posts\u0026quot;\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e Main = styled.main\u003cspan class=\"hljs-string\"\u003e`\n  max-width: 56em;\n  padding: 0.8em;\n  margin: 0 auto;\n`\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e Ul = styled.ul\u003cspan class=\"hljs-string\"\u003e`\n  padding: 0;\n`\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e Li = styled.li\u003cspan class=\"hljs-string\"\u003e`\n  display: block;\n`\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Create a flex box wrapper that can group our blog post attributes\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e BlogLink = styled.div\u003cspan class=\"hljs-string\"\u003e`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid gray;\n  transition: margin-left 0.2s ease;\n\n  \u0026amp;:hover {\n    margin-left: 20px;\n  }\n`\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Notice here on the Link element that we do not need passHref,\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// that\u0026#x27;s possible because the anchor tag is the direct child\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// of the Link element\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e BlogPage = \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003e{ posts }\u003c/span\u003e) =\u0026gt;\u003c/span\u003e (\n  \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eMain\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eUl\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      {posts.map((post) =\u0026gt; (\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLi\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ekey\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{post.slug}\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{\u003c/span\u003e`\u003cspan class=\"hljs-attr\"\u003eblog\u003c/span\u003e/${\u003cspan class=\"hljs-attr\"\u003epost.slug\u003c/span\u003e}`}\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eBlogLink\u003c/span\u003e\u0026gt;\u003c/span\u003e\n                \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eh3\u003c/span\u003e\u0026gt;\u003c/span\u003e{post.title}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eh3\u003c/span\u003e\u0026gt;\u003c/span\u003e\n                \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eh5\u003c/span\u003e\u0026gt;\u003c/span\u003e{post.date}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eh5\u003c/span\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eBlogLink\u003c/span\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eLi\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      ))}\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eUl\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eMain\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n)\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e BlogPage\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetStaticProps\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003eprops\u003c/span\u003e: {\n      posts,\n    },\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis only really leaves us with one component left to style (\u003ccode\u003epages/blog/[slug].js\u003c/code\u003e), I\u0026#39;ll leave that as an exercise for the reader. If you want to see how I did it you can visit the repository \u003ca href=\"https://github.com/simon-nystrom/nextjs-blog-example/tree/p3\"\u003ehere\u003c/a\u003e. \u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eNow we have a styled \u003ccode\u003eNext.js\u003c/code\u003e app that supports dynamic routing based on a data set ready to go for the next part of this tutorial series.\u003c/p\u003e\n\u003cp\u003eHere\u0026#39;s what my project looks like at this stage: \u003ca href=\"https://github.com/simon-nystrom/nextjs-blog-example/tree/p3\"\u003ehttps://github.com/simon-nystrom/nextjs-blog-example/tree/p3\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eI hope you\u0026#39;ll keep following along with the tutorial, please don\u0026#39;t hesitate to ask if you have any questions or tell me if I missed something!\u003c/p\u003e\n","date":"2020-11-07 22:51","series_title":"Creating a blog with React and Next.js","title":"Styled Components in Next.js","slug":"nextjs-styled-components","part":3,"last_part":"?","summary":"Learn about using styled components in Next.js.","categories":[],"published":true,"tags":["react","javascript","nextjs","tutorial"]},{"html":"\u003cp\u003eAlthough this post is part of a series, the aim is for the post to be able to stand on its own, you should be able to take away some knowledge even if you\u0026#39;re not following the tutorial series. If you\u0026#39;re interested, the tutorial series starts here: \u003ca href=\"https://newcurrent.se/blog/initialize-nextjs-project\"\u003ePart 1\u003c/a\u003e.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"prerequisites\"\u003ePrerequisites\u003c/h1\u003e\n\u003cp\u003eThe prerequisites for this tutorial are stated in \u003ca href=\"https://newcurrent.se/blog/initialize-nextjs-project\"\u003ePart 1\u003c/a\u003e.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"basic-routing\"\u003eBasic routing\u003c/h1\u003e\n\u003cp\u003eRoutes in Next.js are constructed by keeping your folder structure in the way that you want your pages to be accessible in the browser. As we saw in the previous part of this tutorial, we\u0026#39;re able to visit the root of the website and that\u0026#39;s because we have an \u003ccode\u003eindex.js\u003c/code\u003e file in the \u003ccode\u003epages\u003c/code\u003e directory. \u003c/p\u003e\n\u003cp\u003eThe filename \u003ccode\u003eindex.js\u003c/code\u003e is special in Next.js, it is what is served when you go to the root of the sub folder, like so:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003epages/index.js\u003c/code\u003e -\u0026gt; accessible at \u003ccode\u003e/\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003epages/blog/index.js\u003c/code\u003e -\u0026gt; accessible at \u003ccode\u003e/blog\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSince we\u0026#39;re building a blog, let\u0026#39;s create this \u003ccode\u003epages/blog/index.js\u003c/code\u003e file. Create a folder named \u003ccode\u003eblog\u003c/code\u003e inside the \u003ccode\u003epages\u003c/code\u003e directory and create an \u003ccode\u003eindex.js\u003c/code\u003e file in there:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e BlogPage = \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;This is the blog page!\u0026quot;\u003c/span\u003e;\n};\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e BlogPage;\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIf you run your project now by running \u003ccode\u003eyarn dev\u003c/code\u003e, you\u0026#39;ll see that if you go to \u003ca href=\"http://localhost:3000\"\u003ehttp://localhost:3000\u003c/a\u003e you\u0026#39;ll see the contents of \u003ccode\u003epages/index.js\u003c/code\u003e but if you instead visit \u003ca href=\"http://localhost:3000/blog\"\u003ehttp://localhost:3000/blog\u003c/a\u003e you\u0026#39;ll be greeted with \u003cem\u003eThis is the blog page!\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eBasic routing is cool and all, but it\u0026#39;s not useful when we want to build dynamic routes that can be content-driven. Let\u0026#39;s create a dynamic route that we can use for our blog posts.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"dynamic-routing\"\u003eDynamic routing\u003c/h1\u003e\n\u003cp\u003eSimilarly to how basic routing uses the folder and file structure in the \u003ccode\u003epages\u003c/code\u003e directory, so does dynamic routing.\u003c/p\u003e\n\u003cp\u003eDynamic routes can be constructed by naming a file like so: \u003ccode\u003e[slug].js\u003c/code\u003e. Let\u0026#39;s create \u003ccode\u003epages/blog/[slug].js\u003c/code\u003e and see what this actually does.\u003c/p\u003e\n\u003cp\u003eIf we go to \u003ca href=\"http://localhost:3000/blog\"\u003ehttp://localhost:3000/blog\u003c/a\u003e we see that it still works, that\u0026#39;s good, we still want to be able to navigate to the \u003ccode\u003e/blog\u003c/code\u003e route.\u003c/p\u003e\n\u003cp\u003eThe \u003ccode\u003e[slug].js\u003c/code\u003e naming pattern makes it so that we can register routes dynamically at build time, let\u0026#39;s add some code to our \u003ccode\u003e[slug].js\u003c/code\u003e file and look at how we can utilize this:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e BlogPost = \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eprops\u003c/span\u003e) =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003eJSON\u003c/span\u003e.stringify(props);\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e BlogPost;\n\n\u003cspan class=\"hljs-comment\"\u003e// This function is ran by Next.js to determine which \u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// paths need to be created dynamically, here we\u0026#x27;ve\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// hardcoded one path that will be served when the\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// slug matches \u0026quot;my-first-blog-post\u0026quot;\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetStaticPaths\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003epaths\u003c/span\u003e: [{ \u003cspan class=\"hljs-attr\"\u003eparams\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003eslug\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;my-first-blog-post\u0026quot;\u003c/span\u003e } }],\n    \u003cspan class=\"hljs-attr\"\u003efallback\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e,\n  };\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// params in getStaticPaths({params}) are from getStaticPaths.\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// Next.js runs this function to determine what props to\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// pass to our React component.\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// In this case we see that we only have one possible path\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// and that is the path to \u0026quot;my-first-blog-post\u0026quot;.\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetStaticProps\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{ params }\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e { \u003cspan class=\"hljs-attr\"\u003eprops\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003eslug\u003c/span\u003e: params.slug } };\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eVisiting \u003ca href=\"http://localhost:3000/blog/my-first-blog-post\"\u003ehttp://localhost:3000/blog/my-first-blog-post\u003c/a\u003e now shows you the props passed to the \u003ccode\u003eBlogPost\u003c/code\u003e component and should show you \u003ccode\u003e{\u0026quot;slug\u0026quot;:\u0026quot;my-first-blog-post\u0026quot;}\u003c/code\u003e. As we can see, we have a prop called \u003ccode\u003eslug\u003c/code\u003e. That\u0026#39;s from the \u003ccode\u003egetStaticProps\u003c/code\u003e function. If we try another path, that wasn\u0026#39;t specified in the \u003ccode\u003egetStaticPaths\u003c/code\u003e function we\u0026#39;ll notice that it gives a 404 response. All dynamic routes that use \u003ccode\u003egetStaticProps\u003c/code\u003e have to be specified by \u003ccode\u003egetStaticPaths\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eMore info about this here:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nextjs.org/docs/basic-features/data-fetching#getstaticpaths-static-generation\"\u003egetStaticPaths\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation\"\u003egetStaticProps\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch1 id=\"creating-paths-based-on-our-blog-posts\"\u003eCreating paths based on our blog posts\u003c/h1\u003e\n\u003cp\u003eIn the above section, I mentioned that all dynamic paths have to be specified in \u003ccode\u003egetStaticPaths\u003c/code\u003e if they use \u003ccode\u003egetStaticProps\u003c/code\u003e, while this is true, it\u0026#39;s not useful doing all this by hand as it would get tedious quickly. Let\u0026#39;s create a way to define these routes based on some fake blog posts.\u003c/p\u003e\n\u003cp\u003eIn the \u003ccode\u003epages\u003c/code\u003e directory, create a file called \u003ccode\u003e_posts.js\u003c/code\u003e, we\u0026#39;ll use this file to define our posts. For now, these will be hardcoded, in a later part of this series we will read in Markdown files and generate our posts based on those. \u003c/p\u003e\n\u003cp\u003eYou might see a pattern now by the way, remember the file called \u003ccode\u003e_app.js\u003c/code\u003e? That one is similar to this \u003ccode\u003e_posts.js\u003c/code\u003e file we just created. Files that begin with an underscore won\u0026#39;t be interpreted as accessible pages by Next.js.\u003c/p\u003e\n\u003cp\u003eLet \u003ccode\u003epages/posts.js\u003c/code\u003e look like this:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e// Hardcoded for now to demonstrate dynamic routing.\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// We\u0026#x27;ll generate this list based on Markdown files\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// in a later part of this tutorial series\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e posts = [\n  {\n    \u003cspan class=\"hljs-attr\"\u003etitle\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;My first blog post!\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eslug\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;my-first-blog-post\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003edate\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;2020-11-05\u0026quot;\u003c/span\u003e,\n  },\n  {\n    \u003cspan class=\"hljs-attr\"\u003etitle\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;My second blog post!\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eslug\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;my-second-blog-post\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003edate\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;2020-11-06\u0026quot;\u003c/span\u003e,\n  },\n];\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e posts;\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eand modify \u003ccode\u003epages/blog/[slug].js\u003c/code\u003e file to use this new \u003ccode\u003e_posts.js\u003c/code\u003e file:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e posts \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;../_posts\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// This post argument is passed from getStaticProps\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e BlogPost = \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003e{ post }\u003c/span\u003e) =\u0026gt;\u003c/span\u003e (\n  \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003earticle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u0026gt;\u003c/span\u003e{post.title}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e{post.date}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003earticle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n);\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e BlogPost;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetStaticPaths\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Map all the posts to objects with the slug in the params object\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// since we want all our pages to be accessible, the paths array\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// needs to contain a list of all the posts slugs\u003c/span\u003e\n    paths: posts.map(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003epost\u003c/span\u003e) =\u0026gt;\u003c/span\u003e ({ \u003cspan class=\"hljs-attr\"\u003eparams\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003eslug\u003c/span\u003e: post.slug } })),\n    \u003cspan class=\"hljs-attr\"\u003efallback\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e,\n  };\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetStaticProps\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{ params }\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003eprops\u003c/span\u003e: {\n      \u003cspan class=\"hljs-comment\"\u003e// Since our slug should be unique we can use\u003c/span\u003e\n      \u003cspan class=\"hljs-comment\"\u003e// it to find the post with the matching slug,\u003c/span\u003e\n      \u003cspan class=\"hljs-comment\"\u003e// this will be the post we need to render\u003c/span\u003e\n      post: posts.find(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003epost\u003c/span\u003e) =\u0026gt;\u003c/span\u003e post.slug === params.slug),\n    },\n  };\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cem\u003eIt might look like React is missing as an import in the above code snippet, but Next.js actually lets us skip this declaration.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s also make our \u003ca href=\"http://localhost:3000/blog\"\u003ehttp://localhost:3000/blog\u003c/a\u003e page a bit more useful:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Link \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;next/link\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e posts \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;../_posts\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e BlogPage = \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003e{ posts }\u003c/span\u003e) =\u0026gt;\u003c/span\u003e (\n  \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eul\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    {posts.map((post) =\u0026gt; (\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ekey\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{post.slug}\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{\u003c/span\u003e`\u003cspan class=\"hljs-attr\"\u003eblog\u003c/span\u003e/${\u003cspan class=\"hljs-attr\"\u003epost.slug\u003c/span\u003e}`}\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u0026gt;\u003c/span\u003e{post.title}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    ))}\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eul\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n);\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e BlogPage;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetStaticProps\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003eprops\u003c/span\u003e: {\n      posts,\n    },\n  };\n}\u003c/code\u003e\u003c/pre\u003e\u003chr\u003e\n\u003ch1 id=\"creating-a-nav-bar\"\u003eCreating a nav bar\u003c/h1\u003e\n\u003cp\u003eWhile our page works, getting to and from blog posts is really annoying and our home page isn\u0026#39;t even usable, it just says \u003cem\u003eHome sweet home\u003c/em\u003e. Let\u0026#39;s add a nav bar that shows up on every sub page, including the home page.\u003c/p\u003e\n\u003cp\u003eTo do this, we can modify the \u003ccode\u003epages/_app.js\u003c/code\u003e file. This file is ran for every page and code present in this component will be run for all pages. For more info about the \u003ccode\u003epages/_app.js\u003c/code\u003e file you can check out the previous entry in this tutorial series or read more \u003ca href=\"https://nextjs.org/docs/advanced-features/custom-app\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eModify your \u003ccode\u003epages/_app.js\u003c/code\u003e to look like this:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Link \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;next/link\u0026quot;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;../styles/globals.css\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{ Component, pageProps }\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003enav\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eul\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;/\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u0026gt;\u003c/span\u003eHome\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;/blog\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u0026gt;\u003c/span\u003eBlog\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eul\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003enav\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eComponent\u003c/span\u003e {\u003cspan class=\"hljs-attr\"\u003e...pageProps\u003c/span\u003e} /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e MyApp;\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eTry your app out now, navigate around a bit and you should see that the links to Home and Blog are always present at the top of the page and you can use those to navigate around, similarly you can navigate to the blog posts from the Blog page.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eNow we have a \u003ccode\u003eNext.js\u003c/code\u003e app that supports dynamic routing based on a data set ready to go for the next part of this tutorial series.\u003c/p\u003e\n\u003cp\u003eHere\u0026#39;s what my project looks like at this stage: \u003ca href=\"https://github.com/simon-nystrom/nextjs-blog-example/tree/p2\"\u003ehttps://github.com/simon-nystrom/nextjs-blog-example/tree/p2\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eI hope you\u0026#39;ll keep following along with the tutorial, please don\u0026#39;t hesitate to ask if you have any questions or tell me if I missed something!\u003c/p\u003e\n","date":"2020-11-05 22:51","series_title":"Creating a blog with React and Next.js","title":"Routing in Next.js","slug":"nextjs-routing","part":2,"last_part":"?","summary":"Learn about routing and dynamic routes in Next.js.","categories":[],"published":true,"tags":["react","javascript","nextjs","tutorial"]},{"html":"\u003cp\u003eThis tutorial series shows you how to create a blog similar to the one on my site: \u003ca href=\"https://newcurrent.se\"\u003ehttps://newcurrent.se\u003c/a\u003e, and how to host it on GitHub Pages, it won\u0026#39;t be locked to host on GitHub Pages though, the result will be a site that is able to be statically exported and hosted anywhere.\u003c/p\u003e\n\u003cp\u003eI made a post in the past describing how to create a blog using Sapper, but I\u0026#39;ve decided to migrate to \u003ca href=\"https://nextjs.org/\"\u003e\u003ccode\u003eNext.js\u003c/code\u003e\u003c/a\u003e because I\u0026#39;m more versed in React and I wanted to try something new. I\u0026#39;ve used Gatsby in the past so I thought, why not try Next.js this time.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"prerequisites\"\u003ePrerequisites\u003c/h1\u003e\n\u003cp\u003eYou don\u0026#39;t need a lot of programming experience to follow this tutorial, I wouldn\u0026#39;t recommend this tutorial series unless you have some HTML, CSS and JavaScript knowledge and some knowledge of how \u003ccode\u003eReact\u003c/code\u003e works though. The focus will be more on how \u003ccode\u003eNext.js\u003c/code\u003e can help us build our blog rather than what \u003ccode\u003eReact\u003c/code\u003e helps us do. You are also expected how to use GitHub to create a repository.\u003c/p\u003e\n\u003cp\u003eAll you really need other than that is a \u003ccode\u003enode\u003c/code\u003e version that is high enough to support \u003ccode\u003enpx\u003c/code\u003e and a GitHub account.\u003c/p\u003e\n\u003cp\u003eI will be using \u003ccode\u003eyarn\u003c/code\u003e for this project, but using \u003ccode\u003enpm\u003c/code\u003e is fine as well. The syntax varies slightly but generally \u003ccode\u003eyarn\u003c/code\u003e does not need to specify \u003ccode\u003erun\u003c/code\u003e to run something, see example below:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003eyarn dev\n\u003cspan class=\"hljs-comment\"\u003e# is the same as\u003c/span\u003e\nnpm run dev\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eLet\u0026#39;s get started ðŸ˜Š\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"initializing-the-project\"\u003eInitializing the project\u003c/h1\u003e\n\u003cp\u003eTo initialize a new \u003ccode\u003eNext.js\u003c/code\u003e project, all we have to do is run the following code:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpx create-next-app my-blog\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e my-blog\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis will create a project in a folder called \u003ccode\u003emy-blog\u003c/code\u003e (you can name it whatever you want) and set up all the basics needed for the project and then change your working directory to be \u003ccode\u003emy-blog\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eIf you want to try running the app already, you can do so by running \u003ccode\u003eyarn dev\u003c/code\u003e or \u003ccode\u003enpm run dev\u003c/code\u003e and visiting \u003ca href=\"http://localhost:3000\"\u003ehttp://localhost:3000\u003c/a\u003e.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"file-overview-and-walkthrough\"\u003eFile overview and walkthrough\u003c/h1\u003e\n\u003cp\u003eLet\u0026#39;s look at the file and directory tree that \u003ccode\u003ecreate-next-app\u003c/code\u003e created for us:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/next/nextjs_folder_structure.png\" alt=\"Next.js folder structure\"\u003e\u003c/p\u003e\n\u003ch3 id=\"next\"\u003e.next\u003c/h3\u003e\n\u003cp\u003eContains files needed by the Next.js framework. No need to touch this folder.\u003c/p\u003e\n\u003ch3 id=\"node_modules\"\u003enode_modules\u003c/h3\u003e\n\u003cp\u003eContains dependencies for our project. No need to touch this folder.\u003c/p\u003e\n\u003ch3 id=\"pages\"\u003epages\u003c/h3\u003e\n\u003cp\u003eThis folder is used by Next.js. It looks here at our JavaScript files to determine what the routes in our page will look like and how they will work. We\u0026#39;ll go through this in more detail further down the page. This is the primary folder used in a Next.js project.\u003c/p\u003e\n\u003ch3 id=\"public\"\u003epublic\u003c/h3\u003e\n\u003cp\u003eThis is where you put all the things that you want to be reached statically on your hosted site like images and the favicon.\u003c/p\u003e\n\u003ch3 id=\"styles\"\u003estyles\u003c/h3\u003e\n\u003cp\u003eUse this folder for your global CSS stylesheets and your CSS modules. You can remove the \u003ccode\u003eHome.module.css\u003c/code\u003e file from this folder as we won\u0026#39;t be using that.\u003c/p\u003e\n\u003cp\u003eThose are the folders in a Next.js project, we\u0026#39;ll probably create a component directory later where we can organize our React components, but for now this is all we have. Let\u0026#39;s go through the contents of the \u003ccode\u003epages\u003c/code\u003e folder.\u003c/p\u003e\n\u003ch2 id=\"the-pages-folder\"\u003eThe pages folder\u003c/h2\u003e\n\u003cp\u003eFirst of all, let\u0026#39;s remove the \u003ccode\u003eapi\u003c/code\u003e folder, we don\u0026#39;t need that.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s look at \u003ccode\u003e_app.js\u003c/code\u003e and \u003ccode\u003eindex.js\u003c/code\u003e a bit closer, they are important.\u003c/p\u003e\n\u003ch4 id=\"_appjs\"\u003e_app.js\u003c/h4\u003e\n\u003cp\u003e\u003ccode\u003e_app.js\u003c/code\u003e looks like this:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;../styles/globals.css\u0026#x27;\u003c/span\u003e\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eMyApp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{ Component, pageProps }\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eComponent\u003c/span\u003e {\u003cspan class=\"hljs-attr\"\u003e...pageProps\u003c/span\u003e} /\u0026gt;\u003c/span\u003e\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e MyApp\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSeems innocuous, and it is at this stage. The \u003ccode\u003e_app.js\u003c/code\u003e is executed for all your pages defined in the \u003ccode\u003epages\u003c/code\u003e directory, it is passed to the \u003ccode\u003eMyApp\u003c/code\u003e function as the \u003ccode\u003eComponent\u003c/code\u003e argument and is accessible here. We\u0026#39;ll be using the \u003ccode\u003eMyApp\u003c/code\u003e component in another part of this tutorial series to define things we want present on all pages, like a header and a footer. For now this code does nothing but return the page as it is handed to it.\u003c/p\u003e\n\u003ch4 id=\"indexjs\"\u003eindex.js\u003c/h4\u003e\n\u003cp\u003e\u003ccode\u003eindex.js\u003c/code\u003e is a big longer and we\u0026#39;ll actually remove the majority of it, you want your \u003ccode\u003eindex.js\u003c/code\u003e to look like this before moving on with the next part of this tutorial: \u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eHome\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;Home sweet home\u0026quot;\u003c/span\u003e;\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis \u003ccode\u003eindex.js\u003c/code\u003e file is what will be served when we visit the root of our site. Start your project by running \u003ccode\u003eyarn dev\u003c/code\u003e and then visit \u003ca href=\"http://localhost:3000/\"\u003ehttp://localhost:3000/\u003c/a\u003e and you should see a basic web site that just says \u003cem\u003eHome sweet home\u003c/em\u003e.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"adding-our-project-to-github\"\u003eAdding our project to GitHub\u003c/h1\u003e\n\u003cp\u003eOnly storing our code locally is not safe or good practice, let\u0026#39;s create a repository on GitHub and push our code there. Since this is one of the prerequisites, I assume you already know how to do this. Just make sure the project you create is an empty project that is not initialized with any files like a \u003ccode\u003eREADME.md\u003c/code\u003e or a license file.\u003c/p\u003e\n\u003cp\u003eOnce you\u0026#39;ve created your GitHub account, follow the steps they provide:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003egit remote add origin git@github.com:\u0026lt;your_username\u0026gt;/\u0026lt;your_github_project\u0026gt;.git\ngit branch -M main\ngit push -u origin main\u003c/code\u003e\u003c/pre\u003e\u003chr\u003e\n\u003cp\u003eNow we have a basic \u003ccode\u003eNext.js\u003c/code\u003e set up and ready to go for the next part of this tutorial series.\u003c/p\u003e\n\u003cp\u003eHere\u0026#39;s what my project looks like at this stage: \u003ca href=\"https://github.com/simon-nystrom/nextjs-blog-example/tree/p1\"\u003ehttps://github.com/simon-nystrom/nextjs-blog-example/tree/p1\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eI hope you\u0026#39;ll follow along with the tutorial, please don\u0026#39;t hesitate to ask if you have any questions or tell me if I missed something!\u003c/p\u003e\n","date":"2020-11-05","series_title":"Creating a blog with React and Next.js","title":"Initializing a Next.js project","slug":"initialize-nextjs-project","part":1,"last_part":"?","summary":"Initialize a Next.js project and get it up and running with a basic page.","categories":[],"published":true,"tags":["react","javascript","nextjs","tutorial"]},{"html":"\u003cp\u003eSometimes you want to access data on the web that isn\u0026#39;t easily available through an API. For that, web scraping is a viable alternative. Web scraping is in essence a way to programmatically visit a web site as if you were a browser and fetch the data that way. This tutorial post will guide you through the process of web scraping using Python3, and two libraries \u003ca href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\"\u003eBeautifulSoup\u003c/a\u003e and \u003ca href=\"https://requests.readthedocs.io/en/master/\"\u003eRequests\u003c/a\u003e. As an example, we will build a command line application to search and print ratings for movies and TV shows on IMDB.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"project-setup\"\u003eProject setup\u003c/h1\u003e\n\u003cp\u003eTo follow along with the tutorial you will need to have the following:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.python.org/downloads/\"\u003ePython\u003c/a\u003e installed\u003c/li\u003e\n\u003cli\u003eSome basic knowledge of Python and some basic HTML/CSS knowledge\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAlternatively you can check out \u003ca href=\"https://newcurrent.se/blog/containerized-development-environment\"\u003emy blog post for using dev containers\u003c/a\u003e and follow that guide but select the \u003ccode\u003ePython 3\u003c/code\u003e container spec when creating the dev container. If you can\u0026#39;t get the dev container way to work, you can refer to the \u003ca href=\"https://github.com/simon-nystrom/simple-web-scrape\"\u003erepository for this blog post\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s begin by creating a folder for our project and installing the required dependencies:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003emkdir web-scrape\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e web-scrape\npip3 install beautifulsoup4 requests\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ebeautifulsoup4\u003c/code\u003e lets us easily access DOM elements programmatically\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003erequests\u003c/code\u003e gives us a nice and easy to use interface to make HTTP requests\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch1 id=\"researching-the-applications-lifecycle\"\u003eResearching the application\u0026#39;s lifecycle\u003c/h1\u003e\n\u003cp\u003eAs stated in the introduction, we\u0026#39;re going to focus on searching on IMDB showing the rating for some selected title. Our first step should be to do these steps in a browser and see what it looks like there.\u003c/p\u003e\n\u003cp\u003eVisit \u003ca href=\"http://www.imdb.com\"\u003ewww.imdb.com\u003c/a\u003e in your browser and search for a movie of your choice. I searched for \u003cem\u003eJurassic Park\u003c/em\u003e, you should be greeted with something like the following image:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/imdb/jurassic_park_search_res.png\" alt=\"Jurassic Park search result on IMDB\"\u003e\u003c/p\u003e\n\u003cp\u003eOnce you\u0026#39;re on this page, inspect one of the rows in the \u003cem\u003e\u0026quot;Titles\u0026quot;\u003c/em\u003e table by right clicking and pressing \u003cem\u003e\u0026quot;Inspect element\u0026quot;\u003c/em\u003e, this varies from browser to browser but in Firefox it looks like this:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/imdb/inspect_element.png\" alt=\"Inspect element\"\u003e\u003c/p\u003e\n\u003cp\u003eYou might also have noticed that something opened up at the bottom of your browser, that section is commonly referred to as the dev tools. We\u0026#39;ll be using that now to figure out the structure of the data that we\u0026#39;re after. At the time of writing this, it looks like this:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/imdb/dev_tools.png\" alt=\"Dev tools open\"\u003e\u003c/p\u003e\n\u003cp\u003eWhat\u0026#39;s displayed here is the \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction\"\u003eDOM\u003c/a\u003e structure. The highlighted row here is what I selected when taking the \u003cem\u003e\u0026quot;Inspect element\u0026quot;\u003c/em\u003e action earlier. This shows us how all the HTML nodes relate to each other and where in the DOM the data we\u0026#39;re after is located. Since we want to be able to list these results in our application, we need to be able to present these search results.\u003c/p\u003e\n\u003cp\u003eWe can see that the data we\u0026#39;re interested in is located inside the \u003ccode\u003e\u0026lt;td\u0026gt;\u003c/code\u003e element with the class \u003ccode\u003eresult_text\u003c/code\u003e, the name of the title is wrapped in an \u003ccode\u003e\u0026lt;a\u0026gt;\u003c/code\u003e element with the \u003ccode\u003ehref\u003c/code\u003e holding the relative link to the title. This is all the data we need from this page.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s follow the link to this title to see what the next page we need to tackle looks like, click the link to one of the search results and you should end up on the page for the movie/show you picked:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/imdb/jurassic_park.png\" alt=\"Jurassic park\"\u003e\u003c/p\u003e\n\u003cp\u003eWhen on this page, let\u0026#39;s repeat the step and \u003cem\u003e\u0026quot;Inspect element\u0026quot;\u003c/em\u003e on the rating display:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/imdb/inspect_element_2.png\" alt=\"Inspect rating element\"\u003e\n\u003cimg src=\"/images/imdb/dev_tools_2.png\" alt=\"Dev tools on inspect rating element\"\u003e\u003c/p\u003e\n\u003cp\u003eHere we can see that for this page the data we\u0026#39;re interested in is located inside a \u003ccode\u003espan\u003c/code\u003e element wrapped by a \u003ccode\u003estrong\u003c/code\u003e element that is in turn wrapped by a \u003ccode\u003ediv\u003c/code\u003e element with the class \u003ccode\u003eratingValue\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eNow that we have gathered all the information we need for our app, let\u0026#39;s proceed to the coding part.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"searching-on-imdb-and-listing-the-titles\"\u003eSearching on IMDB and listing the titles\u003c/h1\u003e\n\u003cp\u003eCreate a file \u003ccode\u003escrape.py\u003c/code\u003e, this will be our only file for this project. In it we will begin by importing the required dependencies and adding search functionality:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e# scrape.py\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e requests\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e bs4 \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e BeautifulSoup\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003esearch\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003esearch_term\u003c/span\u003e):\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e# Make the search request to IMDB\u003c/span\u003e\n    response = requests.get(\u003cspan class=\"hljs-string\"\u003ef\u0026quot;https://www.imdb.com/find?q=\u003cspan class=\"hljs-subst\"\u003e{search_term}\u003c/span\u003e\u0026quot;\u003c/span\u003e)\n    html = response.text\n    soup = BeautifulSoup(html, \u003cspan class=\"hljs-string\"\u003e\u0026quot;html.parser\u0026quot;\u003c/span\u003e)\n    \u003cspan class=\"hljs-comment\"\u003e# Find the table with the class findList\u003c/span\u003e\n    table = soup.find(\u003cspan class=\"hljs-string\"\u003e\u0026quot;table\u0026quot;\u003c/span\u003e, {\u003cspan class=\"hljs-string\"\u003e\u0026quot;class\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;findList\u0026quot;\u003c/span\u003e})\n    \u003cspan class=\"hljs-comment\"\u003e# Use CSS selector syntax to get all td elements from the table with the class result_text\u003c/span\u003e\n    rows = table.select(\u003cspan class=\"hljs-string\"\u003e\u0026quot;tr td.result_text\u0026quot;\u003c/span\u003e)\n    \u003cspan class=\"hljs-comment\"\u003e# Construct a list with the search results, store the title and the href in dicts\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e [{\u003cspan class=\"hljs-string\"\u003e\u0026quot;title\u0026quot;\u003c/span\u003e: row.get_text().strip(), \u003cspan class=\"hljs-string\"\u003e\u0026quot;href\u0026quot;\u003c/span\u003e: row.a[\u003cspan class=\"hljs-string\"\u003e\u0026#x27;href\u0026#x27;\u003c/span\u003e]} \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e row \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e rows]\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eLet\u0026#39;s add another function to this file where we\u0026#39;ll place our user interaction code:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003erun\u003c/span\u003e():\u003c/span\u003e\n    search_term = \u003cspan class=\"hljs-built_in\"\u003einput\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Search IMDB: \u0026quot;\u003c/span\u003e)\n    results = search(search_term)\n    num_results = \u003cspan class=\"hljs-built_in\"\u003elen\u003c/span\u003e(results)\n    print(\u003cspan class=\"hljs-string\"\u003ef\u0026quot;Found \u003cspan class=\"hljs-subst\"\u003e{num_results}\u003c/span\u003e results:\u0026quot;\u003c/span\u003e)\n    \u003cspan class=\"hljs-comment\"\u003e# Use built-in function enumerate to access the index variable i\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e i, result \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003eenumerate\u003c/span\u003e(results):\n        print(\u003cspan class=\"hljs-string\"\u003ef\u0026quot;(\u003cspan class=\"hljs-subst\"\u003e{i+\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e}\u003c/span\u003e) \u003cspan class=\"hljs-subst\"\u003e{result[\u003cspan class=\"hljs-string\"\u003e\u0026#x27;title\u0026#x27;\u003c/span\u003e]}\u003c/span\u003e\u0026quot;\u003c/span\u003e)\n\n\u003cspan class=\"hljs-comment\"\u003e# Don\u0026#x27;t forget this line! We have to call the run function or nothing will happen when we run our program.\u003c/span\u003e\nrun()\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSave the file and we\u0026#39;re ready to try our app to see what it looks like right now, run it by going to the terminal and running:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003epython3 scrape.py\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eEnter a search term and something similar should show up:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/imdb/in_app_search_res.png\" alt=\"in app search results\"\u003e\u003c/p\u003e\n\u003cp\u003eYou might notice that selecting a result does nothing at the moment, and that\u0026#39;s cause we only implemented half the logic. It\u0026#39;s always good to test that what you\u0026#39;ve got so far is working at least, and if you\u0026#39;re seeing search results in your terminal then you\u0026#39;re good to continue.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"printing-the-rating-for-the-selected-title\"\u003ePrinting the rating for the selected title\u003c/h1\u003e\n\u003cp\u003eWe need some more logic to request the next page and print the value from the \u003ccode\u003espan\u003c/code\u003e element we identified earlier. You may have noticed that in the \u003ccode\u003esearch\u003c/code\u003e function we defined, we\u0026#39;re returning the \u003ccode\u003ehref\u003c/code\u003es but we\u0026#39;re yet to use them. Let\u0026#39;s incorporate them now.\u003c/p\u003e\n\u003cp\u003eIn \u003ccode\u003escrape.py\u003c/code\u003e, add another function:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eget_rating\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ehref\u003c/span\u003e):\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e# href passed in here should be from what we found earlier, the href from the \u0026lt;a\u0026gt; tag that the title was wrapped in\u003c/span\u003e\n    response = requests.get(\u003cspan class=\"hljs-string\"\u003ef\u0026quot;https://www.imdb.com\u003cspan class=\"hljs-subst\"\u003e{href}\u003c/span\u003e\u0026quot;\u003c/span\u003e)\n    html = response.text\n    soup = BeautifulSoup(html, \u003cspan class=\"hljs-string\"\u003e\u0026quot;html.parser\u0026quot;\u003c/span\u003e)\n    \u003cspan class=\"hljs-comment\"\u003e# Select by CSS selector for .ratingValue class and get the first result (index 0), we only expect there to be one\u003c/span\u003e\n    rating = soup.select(\u003cspan class=\"hljs-string\"\u003e\u0026quot;.ratingValue\u0026quot;\u003c/span\u003e)[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e].span.get_text()\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e rating\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd let\u0026#39;s use it in our \u003ccode\u003erun\u003c/code\u003e function:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003erun\u003c/span\u003e():\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e# Main interaction\u003c/span\u003e\n    search_term = \u003cspan class=\"hljs-built_in\"\u003einput\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Search IMDB: \u0026quot;\u003c/span\u003e)\n    results = search(search_term)\n    num_results = \u003cspan class=\"hljs-built_in\"\u003elen\u003c/span\u003e(results)\n\n    print(\u003cspan class=\"hljs-string\"\u003ef\u0026quot;Found \u003cspan class=\"hljs-subst\"\u003e{num_results}\u003c/span\u003e results:\u0026quot;\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e i, result \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003eenumerate\u003c/span\u003e(results):\n        print(\u003cspan class=\"hljs-string\"\u003ef\u0026quot;(\u003cspan class=\"hljs-subst\"\u003e{i+\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e}\u003c/span\u003e) \u003cspan class=\"hljs-subst\"\u003e{result[\u003cspan class=\"hljs-string\"\u003e\u0026#x27;title\u0026#x27;\u003c/span\u003e]}\u003c/span\u003e\u0026quot;\u003c/span\u003e)\n\n    \u003cspan class=\"hljs-comment\"\u003e# Convert to int and subtract one to undo the addition to the index in the above loop\u003c/span\u003e\n    selection = \u003cspan class=\"hljs-built_in\"\u003eint\u003c/span\u003e(\u003cspan class=\"hljs-built_in\"\u003einput\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003ef\u0026quot;Select by entering a number (1-\u003cspan class=\"hljs-subst\"\u003e{num_results}\u003c/span\u003e): \u0026quot;\u003c/span\u003e)) - \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n    selected_result = results[selection]\n    \u003cspan class=\"hljs-comment\"\u003e# Pass in the href to the title we want to get the rating for\u003c/span\u003e\n    rating = get_rating(selected_result[\u003cspan class=\"hljs-string\"\u003e\u0026quot;href\u0026quot;\u003c/span\u003e])\n\n    print(\u003cspan class=\"hljs-string\"\u003ef\u0026quot;\u003cspan class=\"hljs-subst\"\u003e{selected_result[\u003cspan class=\"hljs-string\"\u003e\u0026#x27;title\u0026#x27;\u003c/span\u003e]}\u003c/span\u003e has a rating of \u003cspan class=\"hljs-subst\"\u003e{rating}\u003c/span\u003e!\u0026quot;\u003c/span\u003e)\n\n\u003cspan class=\"hljs-comment\"\u003e# Again, make sure you call this in scrape.py\u003c/span\u003e\nrun()\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eRunning our app now results in the following behavior:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/imdb/final.png\" alt=\"Final output\"\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"summary\"\u003eSummary\u003c/h1\u003e\n\u003cp\u003eIf you can use an API to get ahold of the data that you\u0026#39;re after, you should always do so, it\u0026#39;s faster and less prone to errors. Scraping the web can get messy sometimes depending on the structure of the DOM. As you may have already figured out, if something was to change on the layout of IMDB, it would potentially break our app.\u003c/p\u003e\n\u003cp\u003eI hope you learned something new and that you find the information provided here useful, maybe you were looking to use data from some site in your own project? Go ahead and try it out ðŸ˜Š.\u003c/p\u003e\n\u003cp\u003eFeel free to ask any questions.\u003c/p\u003e\n\u003cp\u003eEnjoy! \u003ca href=\"https://github.com/simon-nystrom/simple-web-scrape\"\u003eHere\u003c/a\u003e is the associated repository for this post.\u003c/p\u003e\n","date":"2020-11-01","title":"Web scraping with Python","slug":"web-scraping-python","summary":"Learn how to scrape web sites to access information programmatically using Python3, BeautifulSoup and Requests.","categories":[],"published":true,"tags":["python","web-scraping","requests","tutorial","beautifulsoup"]},{"html":"\u003cp\u003eStatic websites are all the jam these days and you might have heard about the \u003ca href=\"https://jamstack.org/\"\u003eJAMStack\u003c/a\u003e. Static sites allow you to host very performant pre-built sites like my example site \u003ca href=\"https://interest.newcurrent.se\"\u003eCompound interest calculator\u003c/a\u003e. Some popular static site frameworks include \u003ca href=\"https://sapper.svelte.dev/\"\u003eSapper\u003c/a\u003e (uses Svelte), \u003ca href=\"https://nextjs.org/\"\u003eNext.js\u003c/a\u003e and \u003ca href=\"https://www.gatsbyjs.com/\"\u003eGatsby\u003c/a\u003e (uses React) and \u003ca href=\"https://vuepress.vuejs.org/\"\u003eVuePress\u003c/a\u003e (ses Vue). This tutorial will show you how to build and host a static site on Netlify by using a GitHub repository for your code. For this tutorial I will be using Sapper, but any of the frameworks above should do just fine.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"project-setup\"\u003eProject setup\u003c/h1\u003e\n\u003cp\u003eTo follow along with the blog you will need to have the following:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nodejs.org/en/download/\"\u003eNode\u003c/a\u003e installed\u003c/li\u003e\n\u003cli\u003eA \u003ca href=\"https://github.com/\"\u003eGitHub\u003c/a\u003e account and an empty repository\u003c/li\u003e\n\u003cli\u003eA \u003ca href=\"https://www.netlify.com/\"\u003eNetlify\u003c/a\u003e account\u003c/li\u003e\n\u003cli\u003eA GitHub project with the code for your static site\u003c/li\u003e\n\u003cli\u003eKnowledge of how your chosen framework creates bundles ready for static hosting\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eInitialize your project with your tool of choice. Since I\u0026#39;m using sapper, it\u0026#39;s done by running the following command:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpx degit \u003cspan class=\"hljs-string\"\u003e\u0026quot;sveltejs/sapper-template#rollup\u0026quot;\u003c/span\u003e my-static-site\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e my-static-site\nnpm install\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSapper sites are prepared for static site hosting by running the \u003ccode\u003eexport\u003c/code\u003e command like below, (if you aren\u0026#39;t following along with Sapper run whatever is the corresponding built/export command for your chosen site)\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpm run \u003cspan class=\"hljs-built_in\"\u003eexport\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe above step isn\u0026#39;t crucial, but it helps to know that your app can be served statically. To test our exported Sapper app, we can run the following in our terminal (if you\u0026#39;re using another framework, look in the documentation how to serve your site statically):\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpx serve __sapper__/export\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis will start a local webserver on your computer and it should greet you with something like the following image:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/sapper/npx_serve_startup.png\" alt=\"serve start up indicator\"\u003e\u003c/p\u003e\n\u003cp\u003eVisit the URL in the above notification and make sure your site is served properly.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"pushing-our-site-to-github\"\u003ePushing our site to GitHub\u003c/h1\u003e\n\u003cp\u003eNow that we\u0026#39;ve made sure our site can be hosted and accessed statically, it\u0026#39;s time to push our site to GitHub to prepare it for release on Netlify.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s initialize our project directory as a git repository:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003egit init\ngit add .\ngit commit -m \u003cspan class=\"hljs-string\"\u003e\u0026quot;Initial commit\u0026quot;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eI mentioned in the intro that you need will need an empty (don\u0026#39;t initialize it with a README, gitignore or license) GitHub repository. If you don\u0026#39;t have one, go to your \u003ca href=\"https://github.com/\"\u003eGitHub account\u003c/a\u003e and create a new repository.\u003c/p\u003e\n\u003cp\u003eTo be able to push our code to GitHub, we need to run the following commands to connect our local repo to the remote. Replace \u003ccode\u003emy-username\u003c/code\u003e with your GitHub username and \u003ccode\u003emy-static-site\u003c/code\u003e with the name of your GitHub repo.\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003egit remote add origin git@github.com:my-username/my-static-site.git\ngit branch -M main\ngit push -u origin main\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIf you refresh your GitHub repository after this, you should see your code there.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"deploying-our-site-to-netlify\"\u003eDeploying our site to Netlify\u003c/h1\u003e\n\u003cp\u003eLog in to your \u003ca href=\"https://www.netlify.com/\"\u003eNetlify\u003c/a\u003e account and go to the \u003ccode\u003eTeam overview\u003c/code\u003e tab. Here you should see something similar to the image below:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/netlify/netlify_sites.png\" alt=\"Netlify sites\"\u003e\u003c/p\u003e\n\u003cp\u003eAll we have to do now is complete the following steps:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eClick on \u003ccode\u003eNew site from Git\u003c/code\u003e, this takes you to a three step process, the first being \u003ccode\u003e1. Connect to Git Provider\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eClick on \u003ccode\u003eGitHub\u003c/code\u003e under the Continuous Deployment header to proceed\u003c/li\u003e\n\u003cli\u003eGo through the Netlify/GitHub auth process and make sure to allow Netlify access to your new repository. This takes you to section \u003ccode\u003e2. Pick a repository\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eSelect your repository from the list. This takes you to section \u003ccode\u003e3. Build options, and deploy!\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eFill out the information, for Sapper this involves the following settings (follow your chosen frameworks docs for this process if you\u0026#39;re using something else):\u003cul\u003e\n\u003cli\u003eOwner should be yourself\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eBranch to deploy\u003c/code\u003e should be set to \u003ccode\u003emain\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eBuild command should be \u003ccode\u003enpm run export\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ePublish directory should be \u003ccode\u003e__sapper__/export\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eClick \u003ccode\u003eDeploy site\u003c/code\u003e.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eAfter completing the steps above, you should be sent to a view that looks something like this:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/netlify/netlify_built.png\" alt=\"Netlify built\"\u003e\u003c/p\u003e\n\u003cp\u003eVisiting that URL should take you to your deployed app ðŸ˜Ž.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"redeploying-our-site-after-updating-it\"\u003eRedeploying our site after updating it\u003c/h1\u003e\n\u003cp\u003eOne of the best things with Netlify is that once we push changes to the \u003ccode\u003emain\u003c/code\u003e branch, Netlify will build and deploy our project with all the new changes.\u003c/p\u003e\n\u003cp\u003eGo ahead and change something in your project and commit and push it to GitHub. Once that\u0026#39;s done you can head over to the \u003ccode\u003eDeploys\u003c/code\u003e tab on Netlify under your site and see that a new deploy is in progress.\u003c/p\u003e\n\u003cp\u003eOnce it\u0026#39;s deployed, you can visit your site again and see your changes.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"summary\"\u003eSummary\u003c/h1\u003e\n\u003cp\u003eHosting your site on Netlify is a great option if you\u0026#39;re just serving static content and you want to get something up and running quickly on the web. Netlify supports a bunch of other features like custom domain names, plugins and analytics that aren\u0026#39;t free and I have yet to try them but I\u0026#39;m impressed so far.\u003c/p\u003e\n\u003cp\u003eFeel free to ask any questions. ðŸ™‚\u003c/p\u003e\n","date":"2020-10-26","title":"Host a static website for free using Netlify and GitHub","slug":"host-static-website-netlify","summary":"Learn how to host your static website for free by using Sapper, Netlify and GitHub.","categories":[],"published":true,"tags":["svelte","sapper","netlify","javascript"]},{"html":"\u003cp\u003eThis post will walk you through how to create your own base for a CRUD (Create, Read, Update, Delete) API that will handle todos. We will be using Node.js, MongoDB, Express and Mongoose to create the API. \u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"project-setup\"\u003eProject setup\u003c/h1\u003e\n\u003cp\u003eTo follow along with the blog you will need to have the following:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nodejs.org/en/download/\"\u003eNode\u003c/a\u003e installed\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.mongodb.com/try/download/community\"\u003eMongoDB\u003c/a\u003e installed and running on 27017 (default port)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAlternatively you can check out \u003ca href=\"https://newcurrent.se/blog/containerized-development-environment\"\u003emy blog post for using dev containers\u003c/a\u003e and follow that guide but select the \u003ccode\u003eNode.js \u0026amp; Mongo DB\u003c/code\u003e when creating the dev container. If you can\u0026#39;t get the dev container way to work, you can refer to the \u003ca href=\"https://github.com/simon-nystrom/node-mongodb-crud-api\"\u003erepository for this blog post\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThe first course of action is to initialize a project in a new folder using \u003ccode\u003enpm\u003c/code\u003e, in your terminal run the following and complete the project setup:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003emkdir my-crud-api\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e my-crud-api\nnpm init\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSome basic dependencies are needed to create the API:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpm install mongoose body-parser express@^5.0.0-alpha.8\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003ccode\u003emongoose\u003c/code\u003e will be used to connect to MongoDB easily and create a schema for the Todo item.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ebody-parser\u003c/code\u003e will be used to enable parsing JSON requests easily.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eexpress\u003c/code\u003e will be used to set up the HTTP server, we\u0026#39;ll use the alpha version for 5.0 to simplify our code a little bit.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch1 id=\"setting-up-the-web-server\"\u003eSetting up the web server\u003c/h1\u003e\n\u003cp\u003eBegin by creating a file called \u003ccode\u003eindex.js\u003c/code\u003e. This will be the entry point to our application and it is in this file that we will start and initialize our web server.\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e// index.js\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e express = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;express\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e app = express();\n\n\u003cspan class=\"hljs-comment\"\u003e// Wrap our starting logic in an async function so we can use await syntax\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e startApplication = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e () =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e app.listen(\u003cspan class=\"hljs-number\"\u003e8000\u003c/span\u003e);\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Listening on 8000...\u0026quot;\u003c/span\u003e);\n};\n\nstartApplication();\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow if you run \u003ccode\u003enode index.js\u003c/code\u003e in your terminal, your web server should be running and listening on port \u003ccode\u003e8000\u003c/code\u003e, you can verify that by going to \u003ca href=\"http://localhost:8000\"\u003ehttp://localhost:8000\u003c/a\u003e and you should be greeted with the string \u003ccode\u003eCannot GET /\u003c/code\u003e. That means your server is working, albeit quite meaningless for now.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"creating-the-todo-model-and-router\"\u003eCreating the Todo model and router\u003c/h1\u003e\n\u003cp\u003eCreate a new folder in the root directory of your project and call it \u003ccode\u003esrc\u003c/code\u003e, inside this new folder create two files called \u003ccode\u003etodo.js\u003c/code\u003e and \u003ccode\u003etodoRouter.js\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eWe\u0026#39;ll place our model in the \u003ccode\u003etodo.js\u003c/code\u003e file. This will be the schema defined with help of \u003ccode\u003eMongoose\u003c/code\u003e that we installed earlier.\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e// src/todo.js\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e mongoose = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;mongoose\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Create a mongoose schema, make title and createdAt be the properties and make them required\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e todoSchema = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e mongoose.Schema({\n  \u003cspan class=\"hljs-attr\"\u003etitle\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003eString\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003erequired\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e },\n  \u003cspan class=\"hljs-attr\"\u003ecreatedAt\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003eDate\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003erequired\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e },\n});\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e Todo = mongoose.model(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Todo\u0026quot;\u003c/span\u003e, todoSchema);\n\n\u003cspan class=\"hljs-built_in\"\u003emodule\u003c/span\u003e.exports = Todo;\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis \u003ccode\u003eTodo\u003c/code\u003e object that we export from \u003ccode\u003esrc/todo.js\u003c/code\u003e is the object that we will use to handle the database connections needed to interact with the database and create, read, update and delete todos. Let\u0026#39;s use it in our router and define routes for all the actions we want to support:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e// src/todoRouter.js\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e express = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;express\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e Todo = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;./todo\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e todoRouter = express.Router();\n\n\u003cspan class=\"hljs-comment\"\u003e// List all todos\u003c/span\u003e\ntodoRouter.get(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (_, res) =\u0026gt; {\n  res.json(\u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e Todo.find({}));\n});\n\n\u003cspan class=\"hljs-comment\"\u003e// Read todo by ID\u003c/span\u003e\ntodoRouter.get(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/:todoId\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (req, res) =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { todoId } = req.params;\n  res.json(\u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e Todo.findById({ \u003cspan class=\"hljs-attr\"\u003e_id\u003c/span\u003e: todoId }));\n});\n\n\u003cspan class=\"hljs-comment\"\u003e// Delete todo by ID\u003c/span\u003e\ntodoRouter.delete(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/:todoId\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (req, res) =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { todoId } = req.params;\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e Todo.deleteOne({ \u003cspan class=\"hljs-attr\"\u003e_id\u003c/span\u003e: todoId });\n  res.status(\u003cspan class=\"hljs-number\"\u003e204\u003c/span\u003e).send();\n});\n\n\u003cspan class=\"hljs-comment\"\u003e// Update todo by ID\u003c/span\u003e\ntodoRouter.put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/:todoId\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (req, res) =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { title } = req.body;\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { todoId } = req.params;\n  res.json(\u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e Todo.updateOne({ \u003cspan class=\"hljs-attr\"\u003e_id\u003c/span\u003e: todoId }, { title }));\n});\n\n\u003cspan class=\"hljs-comment\"\u003e// Create a todo\u003c/span\u003e\ntodoRouter.post(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (req, res) =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { title } = req.body;\n  res.json(\u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e Todo.create({ title, \u003cspan class=\"hljs-attr\"\u003ecreatedAt\u003c/span\u003e: \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003eDate\u003c/span\u003e() }));\n});\n\n\u003cspan class=\"hljs-built_in\"\u003emodule\u003c/span\u003e.exports = todoRouter;\u003c/code\u003e\u003c/pre\u003e\u003chr\u003e\n\u003ch1 id=\"using-the-router-in-our-server\"\u003eUsing the router in our server\u003c/h1\u003e\n\u003cp\u003eOnce the two files in the previous example have been created, it\u0026#39;s time to hook the router up to our app and to connect to MongoDB using \u003ccode\u003emongoose\u003c/code\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e// index.js\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e bodyParser = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;body-parser\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e express = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;express\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e mongoose = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;mongoose\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e todoRouter = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;./src/todoRouter\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e app = express();\n\n\u003cspan class=\"hljs-comment\"\u003e// Add body-parser middleware to automatically parse JSON requests\u003c/span\u003e\napp.use(bodyParser.json());\n\u003cspan class=\"hljs-comment\"\u003e// Requests done to the base path /todo should go through the todoRouter\u003c/span\u003e\napp.use(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/todo\u0026quot;\u003c/span\u003e, todoRouter);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e startApplication = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e () =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e mongoose.connect(\u003cspan class=\"hljs-string\"\u003e\u0026quot;mongodb://localhost:27017/todo\u0026quot;\u003c/span\u003e, {\n    \u003cspan class=\"hljs-attr\"\u003euseNewUrlParser\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003euseUnifiedTopology\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n  });\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;Successfully connected to MongoDB at: mongodb://localhost:27017/todo\u0026quot;\u003c/span\u003e\n  );\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e app.listen(\u003cspan class=\"hljs-number\"\u003e8000\u003c/span\u003e);\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Listening on 8000...\u0026quot;\u003c/span\u003e);\n};\n\nstartApplication();\u003c/code\u003e\u003c/pre\u003e\u003chr\u003e\n\u003ch1 id=\"sending-some-requests\"\u003eSending some requests\u003c/h1\u003e\n\u003cp\u003eOnce the \u003ccode\u003eindex.js\u003c/code\u003e file has been extended with the additional functionalities above, you can restart your server and we are ready to send some requests using our terminal (you can of course use Postman or Insomnia or other ways of sending requests too):\u003c/p\u003e\n\u003ch3 id=\"create-a-todo-note-the-_id\"\u003eCreate a todo (note the _id):\u003c/h3\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003ecurl -XPOST -H\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Content-Type:application/json\u0026#x27;\u003c/span\u003e -d\u003cspan class=\"hljs-string\"\u003e\u0026#x27;{\u0026quot;title\u0026quot;: \u0026quot;My first todo!\u0026quot;}\u0026#x27;\u003c/span\u003e localhost:8000/todo\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"update-the-todo-use-the-_id-from-above\"\u003eUpdate the todo (use the _id from above):\u003c/h3\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003ecurl -XPUT -H\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Content-Type:application/json\u0026#x27;\u003c/span\u003e -d\u003cspan class=\"hljs-string\"\u003e\u0026#x27;{\u0026quot;title\u0026quot;: \u0026quot;My first todo! But updated!\u0026quot;}\u0026#x27;\u003c/span\u003e localhost:8000/todo/5f8f221fdb30b30457e23e1c\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"read-the-todo-use-the-_id-from-above\"\u003eRead the todo (use the _id from above):\u003c/h3\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003ecurl -XPUT -H\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Content-Type:application/json\u0026#x27;\u003c/span\u003e -d\u003cspan class=\"hljs-string\"\u003e\u0026#x27;{\u0026quot;title\u0026quot;: \u0026quot;My first todo! But updated!\u0026quot;}\u0026#x27;\u003c/span\u003e localhost:8000/todo/5f8f221fdb30b30457e23e1c\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"delete-the-todo-use-the-_id-from-above\"\u003eDelete the todo (use the _id from above):\u003c/h3\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003ecurl -XDELETE localhost:8000/todo/5f8f221fdb30b30457e23e1c\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"list-all-todos\"\u003eList all todos:\u003c/h3\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003ecurl -H\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Content-Type:application/json\u0026#x27;\u003c/span\u003e localhost:8000/todo\u003c/code\u003e\u003c/pre\u003e\u003chr\u003e\n\u003cp\u003eI hope you learned something. Creating a basic API using the method above is quick and easy if you want to get a prototype up and running fast.\u003c/p\u003e\n\u003cp\u003eEnjoy!\u003c/p\u003e\n","date":"2020-10-20","title":"Create a CRUD API with Node.js and MongoDB","slug":"crud-api-node-mongodb","summary":"Learn how to create a CRUD API using Node.js, MongoDB and Express.","categories":[],"published":true,"tags":["node","mongodb","express","javascript","mongoose"]},{"html":"\u003cp\u003eIf you often work from different machines or on different projects where you want to be able to share a development environment within the team to ensure consistent use of versions and so on, containerizing your development environment is the way to go.\u003c/p\u003e\n\u003cp\u003eThis post will go through the needed steps to containerizing your development environment for a Node.js project in Visual Studio Code using Docker.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"project-setup\"\u003eProject setup\u003c/h1\u003e\n\u003cp\u003eTo follow along with the blog you will need to have the following:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://code.visualstudio.com/download\"\u003eVisual Studio Code\u003c/a\u003e installed\u003c/li\u003e\n\u003cli\u003eAn empty directory opened in Visual Studio Code\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://docs.docker.com/get-docker/\"\u003eDocker\u003c/a\u003e installed and perferably some prior knowledge of what Docker is and how it works\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eUtilizing a development container easily in Visual Studio Code has another requirement: the plugin \u003ccode\u003ems-vscode-remote.remote-containers\u003c/code\u003e provisioned by Microsoft. Go ahead and install this in Visual Studio Code, either earch for it on the marketplace inside the editor or run \u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003ecode --install-extension ms-vscode-remote.remote-containers\u003c/code\u003e\u003c/pre\u003e\u003cp\u003efrom the command line.\u003c/p\u003e\n\u003cp\u003eOnce the extension is installed, you need to reload Visual Studio Code to activate the extension.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"your-first-dev-container\"\u003eYour first dev container\u003c/h1\u003e\n\u003cp\u003eOnce you\u0026#39;ve completed the previous step, press the key combination \u003ccode\u003eCMD + SHIFT + P\u003c/code\u003e (Mac) \u003ccode\u003eCTRL + SHIFT + P\u003c/code\u003e (Windows) to open the command palette. Type \u003ccode\u003eremote-containers\u003c/code\u003e and you should be greeted with something similar to the image below:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/vscode/command_palette_remote_containers.png\" alt=\"Command palette with remote containers search results\"\u003e\u003c/p\u003e\n\u003cp\u003eTo initialize the devcontainer files, select the \u003ccode\u003eRemote-Containers: Add Development Container Configuration Files...\u003c/code\u003e option and you will get an extensive list presented to you where you get to pick which predefined container definition to use. Since this example will set up a Node.js project, select the \u003ccode\u003eNode.js\u003c/code\u003e container definition then pick a version, I went with \u003ccode\u003e14\u003c/code\u003e. If it doesn\u0026#39;t show up, you might have to search for it and click \u003ccode\u003eShow all definitions...\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eIf you can\u0026#39;t find the \u003ccode\u003eNode.js\u003c/code\u003e container definition, you can refer to the \u003ccode\u003e.devcontainer\u003c/code\u003e folder in the \u003ca href=\"https://github.com/simon-nystrom/devcontainer-example\"\u003erepository created for this blog post.\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eWhen the step above has been completed, you should have a \u003ccode\u003edevcontainer.json\u003c/code\u003e file open under the \u003ccode\u003e.devcontainer\u003c/code\u003e folder. This file is generated and contains some helpful starter options and comments. It looks like this:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e{\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Node.js\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;build\u0026quot;\u003c/span\u003e: {\n        \u003cspan class=\"hljs-attr\"\u003e\u0026quot;dockerfile\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Dockerfile\u0026quot;\u003c/span\u003e,\n        \u003cspan class=\"hljs-comment\"\u003e// Update \u0026#x27;VARIANT\u0026#x27; to pick a Node version: 10, 12, 14\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003e\u0026quot;args\u0026quot;\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003e\u0026quot;VARIANT\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;14\u0026quot;\u003c/span\u003e }\n    },\n\n    \u003cspan class=\"hljs-comment\"\u003e// Set *default* container specific settings.json values on container create.\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;settings\u0026quot;\u003c/span\u003e: { \n        \u003cspan class=\"hljs-attr\"\u003e\u0026quot;terminal.integrated.shell.linux\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;/bin/bash\u0026quot;\u003c/span\u003e\n    },\n\n    \u003cspan class=\"hljs-comment\"\u003e// Add the IDs of extensions you want installed when the container is created.\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\u0026quot;extensions\u0026quot;\u003c/span\u003e: [\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;dbaeumer.vscode-eslint\u0026quot;\u003c/span\u003e\n    ]\n\n    \u003cspan class=\"hljs-comment\"\u003e// Use \u0026#x27;forwardPorts\u0026#x27; to make a list of ports inside the container available locally.\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// \u0026quot;forwardPorts\u0026quot;: [],\u003c/span\u003e\n\n    \u003cspan class=\"hljs-comment\"\u003e// Use \u0026#x27;postCreateCommand\u0026#x27; to run commands after the container is created.\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// \u0026quot;postCreateCommand\u0026quot;: \u0026quot;yarn install\u0026quot;,\u003c/span\u003e\n\n    \u003cspan class=\"hljs-comment\"\u003e// Uncomment to connect as a non-root user. See https://aka.ms/vscode-remote/containers/non-root.\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// \u0026quot;remoteUser\u0026quot;: \u0026quot;node\u0026quot;\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIt is possible that Visual Studio Code noticed the creation of this \u003ccode\u003e.devcontainer\u003c/code\u003e folder and might now be prompting you in the bottom right corner to reopen the folder to develop in a container. Go ahead and click \u003ccode\u003eReopen in Container\u003c/code\u003e if that is the case. Otherwise you might need to do it manually via the command palette like we did when we created the devcontainer earlier, but type and select the \u003ccode\u003eRemote-Containers: Open Folder in Container...\u003c/code\u003e option and select the current folder.\u003c/p\u003e\n\u003cp\u003eYou should now be connected to the dev container, indicated in the bottom left like this:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/vscode/dev_container.png\" alt=\"Dev container indicator\"\u003e\u003c/p\u003e\n\u003cp\u003eYou might also have noticed that the open folder in the Explorer window has been appended with \u003ccode\u003e[DEV CONTAINER: NODE.JS]\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eNow that we\u0026#39;re connected to our dev container, let\u0026#39;s continue by putting it to use and exploring the benefits.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"using-the-dev-container\"\u003eUsing the dev container\u003c/h1\u003e\n\u003cp\u003eOur directory isn\u0026#39;t empty anymore since we now have a \u003ccode\u003e.devcontainer\u003c/code\u003e folder, however, this folder alone is meaningless. Open an integrated terminal inside Visual Studio Code, this can be done by searching for \u003ccode\u003eTerminal: Create New Integrated Terminal\u003c/code\u003e in the command palette and selecting it. This will open a terminal inside the dev container.\u003c/p\u003e\n\u003cp\u003eNow we\u0026#39;re ready to use Node.js inside the container with the version we specified earlier (\u003ccode\u003e14\u003c/code\u003e in this case):\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/vscode/node_dev_container.png\" alt=\"Node running inside the dev container\"\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"summary\"\u003eSummary\u003c/h1\u003e\n\u003cp\u003eUsing dev containers you can easily reproduce your own development environment on other machines or share the development environment with your team. Dev containers even allow you to install container specific extensions such as in the \u003ccode\u003edevcontainer.json\u003c/code\u003e example earlier where the extension \u003ccode\u003edbaeumer.vscode-eslint\u003c/code\u003e is installed in the container.\u003c/p\u003e\n\u003cp\u003eA multitude of dev container templates are available various languages/development environments but you can also just as easily create your own by modifying the generated \u003ccode\u003edevcontainer.json\u003c/code\u003e and \u003ccode\u003eDockerfile\u003c/code\u003e files.\u003c/p\u003e\n\u003cp\u003eAnother major benefit is that your development environment is now easily backed up to a remote file storage or a Git repository. It\u0026#39;s no longer a major hassle to get your computer set up properly if you make sure to always use dev containers. You also no longer have to worry about running differing versions to what was expected/intended for the project.\u003c/p\u003e\n\u003cp\u003eFor more advanced usages and more information I recommend the following resources:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://code.visualstudio.com/docs/remote/containers\"\u003eBasics\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://code.visualstudio.com/docs/remote/containers-advanced\"\u003eAdvanced usage\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://code.visualstudio.com/docs/remote/troubleshooting#_containers-tips\"\u003eTips \u0026amp; Tricks\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n","date":"2020-10-19","title":"Containerizing your development environment","slug":"containerized-development-environment","summary":"Learn how to containerize your development environment with Docker and Visual Studio Code.","categories":[],"published":true,"tags":["docker","vscode","node","javascript"]},{"html":"\u003cp\u003eIt quickly becomes repetitive typing out all the code needed for forms on the web, with a simple form component you can quickly get started doing what it was you wanted the form for in the first place.\u003c/p\u003e\n\u003cp\u003eThis post will guide you through the process of designing a simple form component for \u003ca href=\"https://svelte.dev/\"\u003eSvelte\u003c/a\u003e projects that lets you specify a number of fields and their properties the form component will deal with the rest.\u003c/p\u003e\n\u003cp\u003eThis guide is aimed at people new to Svelte. To follow along I assume that you know a few things about Svelte already, like how to create and start a project and how a Svelte file is structured. I also assume that you are fairly fluent in HTML, CSS and JavaScript.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"project-setup\"\u003eProject setup\u003c/h1\u003e\n\u003cp\u003eSetup a new Svelte project from the default template by running the following commands:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpx degit sveltejs/template simple-svelte-form\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e simple-svelte-form\nnpm run dev\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis scaffolds a Svelte project and starts a local web server at \u003ca href=\"http://localhost:5000\"\u003ehttp://localhost:5000\u003c/a\u003e that will reload automatically as you make changes in the project.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"creating-the-first-basic-input-component\"\u003eCreating the first basic Input component\u003c/h1\u003e\n\u003cp\u003eStart by creating a directory called \u003ccode\u003ecomponents\u003c/code\u003e under \u003ccode\u003esrc\u003c/code\u003e and create a file named \u003ccode\u003eInput.svelte\u003c/code\u003e here with the following contents:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- src/components/Input.svelte --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e value;\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e placeholder;\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e label;\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e name;\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e id;\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003elabel\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003efor\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{id}\u003c/span\u003e\u0026gt;\u003c/span\u003e{label}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003elabel\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ebind:value\u003c/span\u003e {\u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e} {\u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e} {\u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e} \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;text\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis creates a simple Input component where we can specify some predetermined fields. You can read more about \u003ca href=\"https://svelte.dev/docs#Attributes_and_props\"\u003eshorthand property notation\u003c/a\u003e if you are unsure about how the \u003ccode\u003e{placeholder}\u003c/code\u003e and the \u003ccode\u003ebind:value\u003c/code\u003e work.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s use this in our \u003ccode\u003esrc/App.svelte\u003c/code\u003e component so that we can see what it looks like now:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- src/App.svelte --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Input \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./components/Input.svelte\u0026quot;\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e value = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Initial input\u0026quot;\u003c/span\u003e;\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emain\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eInput\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ebind:value\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;Name\u0026quot;\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;Enter name...\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003emain\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow your site should contain a simple labeled input with the value \u0026quot;Initial input\u0026quot; and should be editable in the field.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"creating-the-form-component\"\u003eCreating the Form component\u003c/h1\u003e\n\u003cp\u003eNow that our Input component is working, we need to create a Form component that can wrap this Input field for us in a handy way. Let\u0026#39;s begin by creating a \u003ccode\u003esrc/components/Form.svelte\u003c/code\u003e file:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- src/components/Form.svelte --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Input \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./Input.svelte\u0026quot;\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e onSubmit;\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e fields;\n\n  \u003cspan class=\"hljs-comment\"\u003e// Convert fields from [ { name: \u0026#x27;name\u0026#x27;, value: \u0026#x27;Value\u0026#x27; } ] to { name : Value } which is more useful when submitting a form\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e fieldsToObject = \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003efields\u003c/span\u003e) =\u0026gt;\u003c/span\u003e\n    fields.reduce(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ep, c\u003c/span\u003e) =\u0026gt;\u003c/span\u003e ({ ...p, [c.name]: c.value }), {});\n\n  \u003cspan class=\"hljs-comment\"\u003e// When submitting, turn our fields representation into a JSON body\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e handleSubmit = \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e onSubmit(fieldsToObject(fields));\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"css\"\u003e\n  \u003cspan class=\"hljs-selector-pseudo\"\u003e:global(input\u003c/span\u003e, \u003cspan class=\"hljs-selector-tag\"\u003eselect\u003c/span\u003e) {\n    \u003cspan class=\"hljs-attribute\"\u003emargin\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e5px\u003c/span\u003e;\n  }\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- When submitting, prevent the default action which would result in a refreshed page --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eform\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eon:submit\u003c/span\u003e|\u003cspan class=\"hljs-attr\"\u003epreventDefault\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u0026gt;\u003c/span\u003e handleSubmit(fields)}\u0026gt;\n    \u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- Loop the fields and render the correct representation based on field.type --\u0026gt;\u003c/span\u003e\n    {#each fields as field}\n        {#if field.type === \u0026#x27;Input\u0026#x27;}\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eInput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ebind:value\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{field.value}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{field.label}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{field.placeholder}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n        {/if}\n    {/each}\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;submit\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003eSubmit\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eform\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eLet\u0026#39;s update our \u003ccode\u003esrc/App.svelte\u003c/code\u003e file to use this component:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- src/App.svelte --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Form \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./components/Form.svelte\u0026quot;\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-comment\"\u003e//   Our field representation, let\u0026#x27;s us easily specify several inputs\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e fields = [\n    {\n      \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;firstName\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Input\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Enter first name...\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;First name\u0026quot;\u003c/span\u003e,\n    },\n    {\n      \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;lastName\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Input\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Enter last name...\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Last name\u0026quot;\u003c/span\u003e,\n    },\n  ];\n\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e result = {};\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eForm\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eonSubmit\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{(body)\u003c/span\u003e =\u0026gt;\u003c/span\u003e {\n    result = body;\n  }}\n  {fields} /\u0026gt;\n\n\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- Show the current state of our Form --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003epre\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ecode\u003c/span\u003e\u0026gt;\u003c/span\u003e{JSON.stringify(result, 0, 2)}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ecode\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003epre\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eYour page should look something like this after submitting some values in the new Form component:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/svelte/svelte_form.png\" alt=\"Form\"\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"adding-another-field-type-to-our-form-component\"\u003eAdding another field type to our Form component\u003c/h1\u003e\n\u003cp\u003eNow that we have a Form component that we can extend ourselves, let\u0026#39;s go through how to add a Select field to our form. First, we create a file \u003ccode\u003esrc/components/Select.svelte\u003c/code\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- src/components/Select.svelte --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e value;\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e options;\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e label;\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e id;\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003elabel\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003efor\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{id}\u003c/span\u003e\u0026gt;\u003c/span\u003e{label}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003elabel\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eselect\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ebind:value\u003c/span\u003e {\u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e}\u0026gt;\u003c/span\u003e\n  {#each options as option}\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eoption\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{option.value}\u003c/span\u003e\u0026gt;\u003c/span\u003e{option.label}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eoption\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  {/each}\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eselect\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis component will let us render a Select field that takes options as a property. Now we need to add support for this new component in our \u003ccode\u003esrc/components/Form.svelte\u003c/code\u003e component. Let\u0026#39;s extend the loop over fields to look like this instead:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Input \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./Input.svelte\u0026quot;\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Select \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./Select.svelte\u0026quot;\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e onSubmit;\n  \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e fields;\n\n  \u003cspan class=\"hljs-comment\"\u003e// Convert fields from [ { name: \u0026#x27;name\u0026#x27;, value: \u0026#x27;Value\u0026#x27; } ] to { name : Value } which is more useful when submitting a form\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e fieldsToObject = \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003efields\u003c/span\u003e) =\u0026gt;\u003c/span\u003e\n    fields.reduce(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ep, c\u003c/span\u003e) =\u0026gt;\u003c/span\u003e ({ ...p, [c.name]: c.value }), {});\n\n  \u003cspan class=\"hljs-comment\"\u003e// When submitting, turn our fields representation into a JSON body\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e handleSubmit = \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e onSubmit(fieldsToObject(fields));\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"css\"\u003e\n  \u003cspan class=\"hljs-selector-pseudo\"\u003e:global(input\u003c/span\u003e, \u003cspan class=\"hljs-selector-tag\"\u003eselect\u003c/span\u003e) {\n    \u003cspan class=\"hljs-attribute\"\u003emargin\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e5px\u003c/span\u003e;\n  }\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- When submitting, prevent the default action which would result in a refreshed page --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eform\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eon:submit\u003c/span\u003e|\u003cspan class=\"hljs-attr\"\u003epreventDefault\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u0026gt;\u003c/span\u003e handleSubmit(fields)}\u0026gt;\n    \u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- Loop the fields and render the correct representation based on field.type --\u0026gt;\u003c/span\u003e\n    {#each fields as field}\n        {#if field.type === \u0026#x27;Input\u0026#x27;}\n            \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eInput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ebind:value\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{field.value}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{field.label}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{field.placeholder}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n        {:else if field.type === \u0026quot;Select\u0026quot;}\n            \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eSelect\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ebind:value\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{field.value}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{field.label}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eoptions\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{field.options}/\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        {/if}\n    {/each}\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;submit\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003eSubmit\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eform\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWe also need to add another field to our \u003ccode\u003esrc/App.svelte\u003c/code\u003e so that it shows up on our page:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Form \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./components/Form.svelte\u0026quot;\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-comment\"\u003e//   Our field representation, let\u0026#x27;s us easily specify several inputs\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e fields = [\n    {\n      \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;firstName\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Input\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Enter first name...\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;First name\u0026quot;\u003c/span\u003e,\n    },\n    {\n      \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;lastName\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Input\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Enter last name...\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Last name\u0026quot;\u003c/span\u003e,\n    },\n    {\n      \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;favoriteColor\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Select\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;green\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Favorite color\u0026quot;\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003eoptions\u003c/span\u003e: [\n        { \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Red\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;red\u0026quot;\u003c/span\u003e },\n        { \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Green\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;green\u0026quot;\u003c/span\u003e },\n        { \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Blue\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;blue\u0026quot;\u003c/span\u003e },\n      ],\n    },\n  ];\n\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e result = {};\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eForm\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eonSubmit\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{(body)\u003c/span\u003e =\u0026gt;\u003c/span\u003e {\n    result = body;\n  }}\n  {fields} /\u0026gt;\n\n\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- Show the current state of our Form --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003epre\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ecode\u003c/span\u003e\u0026gt;\u003c/span\u003e{JSON.stringify(result, 0, 2)}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ecode\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003epre\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAfter all this is done, your page should now look something like the following after pressing submit:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/svelte/svelte_form_1.png\" alt=\"Form\"\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"summary\"\u003eSummary\u003c/h1\u003e\n\u003cp\u003eYou now have a Form component that you can extend with styling and other types of fields as you wish that you can use to easily create JSON bodies that can be sent to backend services or used for other purposes on the front end. Having a Form component like this that handles all the logic around transforming the data from a representation of fields to a JSON-like body is really nice for quick prototyping or just all around generic forms that follow the same rules without custom logic.\u003c/p\u003e\n\u003cp\u003eIt\u0026#39;s now up to you to build upon this to add validation, other field types, styling etc. ðŸ˜Ž\u003c/p\u003e\n\u003cp\u003eThe repository for this project can be found \u003ca href=\"https://github.com/simon-nystrom/simple-svelte-form\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003chr\u003e\n","date":"2020-10-09","title":"Create a simple Form component in Svelte","slug":"simple-svelte-form","summary":"Learn how to create a simple form component for Svelte.","categories":[],"published":true,"tags":["svelte","javascript"]},{"html":"\u003cp\u003eThis post will go through the steps needed to setup a working MongoDB environment inside a Docker container on your local machine. The benefits of having MongoDB inside a container on your local machine is that you can easily change versions and use different MongoDB instances without having to have multiple different versions installed. It also allows you to share your MongoDB setup with your team so that everyone can connect to a similar local database that can be used for testing and development.\u003c/p\u003e\n\u003cp\u003eYou need to have Docker installed to be able to follow this guide, instructions for this can be found \u003ca href=\"https://docs.docker.com/get-docker/\"\u003ehere\u003c/a\u003e. I am using version \u003ccode\u003e2.4.0.0 (48506)\u003c/code\u003e at the time of writing.\u003c/p\u003e\n\u003cp\u003eDisclaimer: The following approach stores data inside the container itself, meaning that \u003cstrong\u003eyou will lose all your data if you remove the container!\u003c/strong\u003e This is intended to be used for development and testing purposes.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"running-the-mongodb-instance\"\u003eRunning the MongoDB instance\u003c/h1\u003e\n\u003cp\u003eIt\u0026#39;s surprisingly easy to get this up and running.\u003c/p\u003e\n\u003cp\u003eRun the following command from a terminal window:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003edocker run -p27017:27017 --name my-mongodb-container -d mongo:latest\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis will:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eStart the \u003ccode\u003emongo:latest\u003c/code\u003e image in a container\u003c/li\u003e\n\u003cli\u003eDetach the container \u003ccode\u003e-d\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eName it \u003ccode\u003emy-mongodb-container\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eMap the container port \u003ccode\u003e27017\u003c/code\u003e to our own machine\u0026#39;s \u003ccode\u003e27017\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eYou can find more tags \u003ca href=\"https://hub.docker.com/_/mongo\"\u003ehere\u003c/a\u003e if you don\u0026#39;t want to use the \u003ccode\u003elatest\u003c/code\u003e version.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"connecting-to-the-mongodb-instance\"\u003eConnecting to the MongoDB instance\u003c/h1\u003e\n\u003cp\u003eNow that we have a MongoDB container up and running, we can try to connect to it using the following command:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003edocker run -it --rm mongo mongo --host host.docker.internal\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis will:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eStart the \u003ccode\u003emongo\u003c/code\u003e image in a container\u003c/li\u003e\n\u003cli\u003eUsing interactive mode \u003ccode\u003e-it\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eRemoving the container once we exit \u003ccode\u003e--rm\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eRun the \u003ccode\u003emongo\u003c/code\u003e command inside the container, with the argument \u003ccode\u003e--host host.docker.internal\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe \u003ccode\u003ehost.docker.internal\u003c/code\u003e address is special and can be used as a workaround to \u003ca href=\"https://docs.docker.com/docker-for-mac/networking/#use-cases-and-workarounds\"\u003econnect to the host machine from a container\u003c/a\u003e.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eThat\u0026#39;s all there is to it. You should be able to go ahead and use this container instance of MongoDB now for local development and testing purposes.\u003c/p\u003e\n","date":"2020-10-04","title":"Setting up MongoDB in Docker for development","slug":"docker-mongodb-development","summary":"Learn how to setup MongoDB using Docker on your local machine.","categories":[],"published":true,"tags":["docker","mongodb"]},{"html":"\u003cp\u003eThe blog where you\u0026#39;re reading this is built using the tools mentioned in this post. It\u0026#39;s not a replica but it has a similar setup, just more focused on the blog setup. This post will guide you through the process of creating your own blog by combining \u003ca href=\"https://svelte.dev/\"\u003eSvelte\u003c/a\u003e, \u003ca href=\"https://sapper.svelte.dev/\"\u003eSapper\u003c/a\u003e and \u003ca href=\"https://www.github.com\"\u003eGitHub\u003c/a\u003e Pages (free). The focus will be on creating a blog with these tools and not so much the details of Svelte and Sapper.\u003c/p\u003e\n\u003cp\u003eNote that even though this project will use GitHub pages as its deployment method, it is in no way required to be deployed to GitHub pages. There is a clear decoupling of the blog itself and its method of deployment.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"project-setup\"\u003eProject setup\u003c/h1\u003e\n\u003cp\u003eTo follow along with the blog you will need to have the following:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003enode\u003c/code\u003e 8.2.0 or later (for \u003ccode\u003enpx\u003c/code\u003e support)\u003c/li\u003e\n\u003cli\u003eA GitHub account\u003c/li\u003e\n\u003cli\u003eAn empty (uninitialized) GitHub public repository named \u003cem\u003eusername\u003c/em\u003e.github.io where \u003cem\u003eusername\u003c/em\u003e is your username at GitHub\u003c/li\u003e\n\u003cli\u003eAccess to your GitHub account through the terminal\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWhen you\u0026#39;re all set up and ready to go, let\u0026#39;s begin. Begin by running the following commands in a terminal window (replace \u003ccode\u003e\u0026lt;username\u0026gt;\u003c/code\u003e by your GitHub username):\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpx degit \u003cspan class=\"hljs-string\"\u003e\u0026quot;sveltejs/sapper-template#rollup\u0026quot;\u003c/span\u003e \u0026lt;username\u0026gt;.github.io\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e \u0026lt;username\u0026gt;.github.io\nnpm install\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis will execute \u003ca href=\"https://github.com/Rich-Harris/degit\"\u003e\u003ccode\u003edegit\u003c/code\u003e\u003c/a\u003e with \u003ccode\u003enpx\u003c/code\u003e to scaffold a Sapper template project in a folder called \u003ccode\u003e\u0026lt;username\u0026gt;.github.io\u003c/code\u003e and change your working directory into said folder and install the required \u003ccode\u003enpm\u003c/code\u003e dependencies.\u003c/p\u003e\n\u003cp\u003eIf you want to see what your site looks like at this point, you can go ahead and run:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpm run dev\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis will start the local development server at \u003ca href=\"http://localhost:3000\"\u003ehttp://localhost:3000\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eNow it\u0026#39;s time to open the project in your favorite code editor. You should have a folder structure similar to the image below at this point:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/sapper/sapper_folder_structure.png\" alt=\"Folder structure\"\u003e\u003c/p\u003e\n\u003cp\u003eThe files/folders that we will be interacting with are listed below:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e__sapper__\u003c/code\u003e, Sapper files such as the dev, build and export bundles.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003esrc\u003c/code\u003e the source code for the site\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003estatic\u003c/code\u003e resources needed for the page to run, these are included in the built version\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eYou can run the following command if you\u0026#39;d like to clean up the project a bit (removing files we won\u0026#39;t be using) so that it contains fewer files as we start to modify the template to suit our needs. Make sure your working directory is still set to \u003ccode\u003e\u0026lt;username\u0026gt;.github.io\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003erm -r scripts static/*.png static/*.jpg\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSince this blog post is focused on enabling blogging functionality, let\u0026#39;s simplify our site a some more. Remove the list item containing the link to \u003cstrong\u003eabout\u003c/strong\u003e in the \u003ccode\u003esrc/components/Nav.svelte\u003c/code\u003e file and delete the file \u003ccode\u003esrc/routes/about.svelte\u003c/code\u003e. Your site should now only have two items in the nav bar, like the image below:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/sapper/sapper_nav_bar.png\" alt=\"Nav bar\"\u003e\u003c/p\u003e\n\u003cp\u003eNow would also be a great time to personalize the \u003ccode\u003esrc/routes/index.svelte\u003c/code\u003e file. I will leave it as it is and move on to the blog portion of the site.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"enabling-markdown-support\"\u003eEnabling Markdown support\u003c/h1\u003e\n\u003cp\u003eAs it stands, the blog posts and their content is hard coded and static, located inside the \u003ccode\u003esrc/routes/blog/_posts.js\u003c/code\u003e file and aren\u0026#39;t able to be written in \u003ca href=\"https://en.wikipedia.org/wiki/Markdown\"\u003eMarkdown\u003c/a\u003e just yet. To change that, we\u0026#39;ll need to install some extra libraries that can help us convert Markdown files into a format suitable to us:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpm install -D marked highlight.js front-matter\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWe also need to add a CSS theme to make \u003ccode\u003ehighlight.js\u003c/code\u003e do something, go to \u003ca href=\"https://highlightjs.org/static/demo/\"\u003ehttps://highlightjs.org/static/demo/\u003c/a\u003e and pick a theme and then include it in the \u003ccode\u003esrc/template.html\u003c/code\u003e like so:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003elink\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003erel\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;stylesheet\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css\u0026quot;\u003c/span\u003e\n/\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eI like keeping my blog posts separate from the code itself since they should be independent of where they are rendered vice versa. Let\u0026#39;s create a \u003ccode\u003eposts\u003c/code\u003e directory alongside our \u003ccode\u003esrc\u003c/code\u003e and \u003ccode\u003estatic\u003c/code\u003e folders.\u003c/p\u003e\n\u003cp\u003eNow we can start rewriting \u003ccode\u003esrc/routes/blog/_posts.js\u003c/code\u003e to suit our needs. We\u0026#39;ll write some code that can take a Markdown file, including YAML front matter and parse it into something that can be used programmatically. You can replace the contents in \u003ccode\u003esrc/routes/blog/_posts.js\u003c/code\u003e with the following code:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e// src/routes/blog/_posts.js\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e fs = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;fs\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e fm = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;front-matter\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e marked = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;marked\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e hljs = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;highlight.js\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e files = fs.readdirSync(\u003cspan class=\"hljs-string\"\u003e\u0026quot;posts\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Use highlight.js as the highlighter for the marked library\u003c/span\u003e\nmarked.setOptions({\n  \u003cspan class=\"hljs-attr\"\u003ehighlight\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ecode, lang\u003c/span\u003e) \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e hljs.highlight(lang, code).value;\n  },\n});\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e posts = [];\n\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e; i \u0026lt; files.length; i++) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e content = fs.readFileSync(\u003cspan class=\"hljs-string\"\u003e`posts/\u003cspan class=\"hljs-subst\"\u003e${files[i]}\u003c/span\u003e`\u003c/span\u003e, { \u003cspan class=\"hljs-attr\"\u003eencoding\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;utf-8\u0026quot;\u003c/span\u003e });\n  \u003cspan class=\"hljs-comment\"\u003e// Use the front-matter library to separate the body from the front matter\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { body, ...frontMatter } = fm(content);\n  \u003cspan class=\"hljs-comment\"\u003e// Use the marked library to turn markdown into html\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e html = marked(body);\n  posts.push({ html, ...frontMatter.attributes });\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e posts;\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe code above will read the contents of the posts located in the \u003ccode\u003eposts\u003c/code\u003e folder and create an array of the posts and their contents so that we can access these posts programmatically.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"creating-your-first-post\"\u003eCreating your first post\u003c/h1\u003e\n\u003cp\u003eNow that we\u0026#39;ve prepared the code to parse our Markdown files, we can create our first post. Create a file in the \u003ccode\u003eposts\u003c/code\u003e folder we created earlier called \u003ccode\u003emy-first-blog.md\u003c/code\u003e with the following content:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e---\ntitle: \"My first blog post\"\nslug: \"my-first-blog\"\n---\n\n## Look at the `title` above, it's straight out of the front matter! â†–\n\nThe slug is what's used to navigate/link to this specific post, visible right now in the URL.\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow you should be able to restart the local development server by re-running \u003ccode\u003enpm run dev\u003c/code\u003e. Now visit \u003ca href=\"http://localhost:3000/blog\"\u003ehttp://localhost:3000/blog\u003c/a\u003e and see your newly created post in the list of recent posts, click the link and it should navigate you to the post.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"deploying-to-github-pages\"\u003eDeploying to GitHub Pages\u003c/h1\u003e\n\u003cp\u003eFirst, we need to make our project into a Git repository and push it to GitHub. To do this, we\u0026#39;ll initialize our current directory (should still be \u003ccode\u003e\u0026lt;username\u0026gt;.github.io\u003c/code\u003e) as a Git repository, stage all the files and create our first commit. Finally we also need to push it to GitHub:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003egit init\ngit add .\ngit commit -m \"Initial commit\"\ngit remote add origin https://github.com/temporary-duck/\u003cusername\u003e.io.git\ngit push -u origin master\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOnce that\u0026#39;s done, we\u0026#39;ll install one final dependency to make it easy for us to deploy the site:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpm install -D gh-pages\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWe\u0026#39;ll also add this as a new script called \u003ccode\u003edeploy\u003c/code\u003e to our \u003ccode\u003epackage.json\u003c/code\u003e\u0026#39;s \u003ccode\u003escripts\u003c/code\u003e section:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003e\u0026quot;scripts\u0026quot;: {\n    \u0026quot;dev\u0026quot;: \u0026quot;sapper dev\u0026quot;,\n    \u0026quot;build\u0026quot;: \u0026quot;sapper build --legacy\u0026quot;,\n    \u0026quot;export\u0026quot;: \u0026quot;sapper export --legacy\u0026quot;,\n    \u0026quot;start\u0026quot;: \u0026quot;node __sapper__/build\u0026quot;,\n    \u0026quot;deploy\u0026quot;: \u0026quot;sapper export --legacy \u0026amp;\u0026amp;  gh-pages -d __sapper__/export\u0026quot;\n},\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe new script will make sure that we \u003ccode\u003esapper export\u003c/code\u003e our latest changes before deploying the \u003ccode\u003e__sapper__/export\u003c/code\u003e folder to GitHub Pages. \u003ccode\u003egh-pages\u003c/code\u003e will create a branch in our repository called \u003ccode\u003egh-pages\u003c/code\u003e and this branch is what will be deployed to your site at \u003ccode\u003e\u0026lt;username\u0026gt;.github.io\u003c/code\u003e, where username is your username at GitHub.\u003c/p\u003e\n\u003cp\u003eNow you\u0026#39;re all set to simply deploy the site by running:\u003c/p\u003e\n\u003cpre\u003e\u003cdiv class=\"copy-me\" onclick=\"copyCode(this)\"\u003eCopy\u003c/div\u003e\u003ccode\u003enpm run deploy\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWe\u0026#39;re close to being done now, only one step left. We have to set the \u003ccode\u003egh-pages\u003c/code\u003e branch that was just deployed as the main branch for GitHub Pages to read from. To do this, visit the GitHub repository you created for your blog, go to settings and scroll down until you see the \u003cstrong\u003eGitHub Pages\u003c/strong\u003e section. Under \u003cstrong\u003eSource\u003c/strong\u003e you have to change the branch to the \u003ccode\u003egh-pages\u003c/code\u003e branch. It might take a few minutes until your page is correctly deployed to \u003ccode\u003e\u0026lt;username\u0026gt;.github.io\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThat\u0026#39;s it. All done. Enjoy your newly created and freely hosted blog! ðŸ¥³\u003c/p\u003e\n\u003chr\u003e\n","date":"2020-09-27","title":"Creating a blog with Svelte, Sapper and GitHub Pages","slug":"create-markdown-sapper-svelte-blog","summary":"Learn how to create your own blog using Svelte, Sapper, Markdown and how to host it for free on GitHub Pages.","categories":[],"published":true,"tags":["svelte","sapper","markdown","javascript","blog","github","rollup"]}]},"__N_SSG":true},"page":"/","query":{},"buildId":"U59Zk05hhGa77utKBgr_w","nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"charSet":"utf-8"}],["meta",{"name":"viewport","content":"initial-scale=1.0, width=device-width"}],["title",{"children":"Newcurrent Blog"}],["meta",{"name":"description","content":"Blog posts and tutorials from a software engineer with an interest in always learning new skills and technologies and to share my knowledge."}]]}</script><script nomodule="" src="/_next/static/chunks/polyfills-fa276ba060a4a8ac7eef.js"></script><script src="/_next/static/chunks/main-5d5c0d8396a37184210a.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.93a4db703368d9b8f53e.js" async=""></script><script src="/_next/static/chunks/a9a7754c.c97121148934262ae49b.js" async=""></script><script src="/_next/static/chunks/99f422a92ff7083adb8a7d840734144fa7589f68.ace57a9ae52ca0c4aaff.js" async=""></script><script src="/_next/static/chunks/99ce5ded03d7686e4bf70ff5f951df53c1ed333a.b57b3b603baeb24450d4.js" async=""></script><script src="/_next/static/chunks/pages/_app-8bfbd89d49e5f837b67d.js" async=""></script><script src="/_next/static/chunks/pages/index-f9cb2a2f375c580e4134.js" async=""></script><script src="/_next/static/U59Zk05hhGa77utKBgr_w/_buildManifest.js" async=""></script><script src="/_next/static/U59Zk05hhGa77utKBgr_w/_ssgManifest.js" async=""></script></body></html>